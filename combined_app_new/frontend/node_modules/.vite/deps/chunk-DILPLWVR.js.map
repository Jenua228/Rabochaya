{
  "version": 3,
  "sources": ["../../@ag-grid-enterprise/row-grouping/dist/package/main.esm.mjs"],
  "sourcesContent": ["// enterprise-modules/row-grouping/src/rowGroupingModule.ts\nimport { ModuleNames, _ColumnFilterModule, _FloatingFilterModule, _defineModule } from \"@ag-grid-community/core\";\nimport { EnterpriseCoreModule, GroupCellRenderer, GroupCellRendererCtrl } from \"@ag-grid-enterprise/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/aggFuncService.ts\nimport { BeanStub, _exists, _existsAndNotEmpty, _includes, _iterateObject, _last } from \"@ag-grid-community/core\";\nvar defaultAggFuncNames = {\n  sum: \"Sum\",\n  first: \"First\",\n  last: \"Last\",\n  min: \"Min\",\n  max: \"Max\",\n  count: \"Count\",\n  avg: \"Average\"\n};\nvar AggFuncService = class extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"aggFuncService\";\n    this.aggFuncsMap = {};\n    this.initialised = false;\n  }\n  postConstruct() {\n    this.init();\n  }\n  init() {\n    if (this.initialised) {\n      return;\n    }\n    this.initialiseWithDefaultAggregations();\n    this.addAggFuncs(this.gos.get(\"aggFuncs\"));\n  }\n  initialiseWithDefaultAggregations() {\n    const aggMap = this.aggFuncsMap;\n    aggMap[\"sum\"] = aggSum;\n    aggMap[\"first\"] = aggFirst;\n    aggMap[\"last\"] = aggLast;\n    aggMap[\"min\"] = aggMin;\n    aggMap[\"max\"] = aggMax;\n    aggMap[\"count\"] = aggCount;\n    aggMap[\"avg\"] = aggAvg;\n    this.initialised = true;\n  }\n  isAggFuncPossible(column, func) {\n    const allKeys = this.getFuncNames(column);\n    const allowed = _includes(allKeys, func);\n    const funcExists = _exists(this.aggFuncsMap[func]);\n    return allowed && funcExists;\n  }\n  getDefaultFuncLabel(fctName) {\n    return defaultAggFuncNames[fctName] ?? fctName;\n  }\n  getDefaultAggFunc(column) {\n    const defaultAgg = column.getColDef().defaultAggFunc;\n    if (_exists(defaultAgg) && this.isAggFuncPossible(column, defaultAgg)) {\n      return defaultAgg;\n    }\n    if (this.isAggFuncPossible(column, \"sum\")) {\n      return \"sum\";\n    }\n    const allKeys = this.getFuncNames(column);\n    return _existsAndNotEmpty(allKeys) ? allKeys[0] : null;\n  }\n  addAggFuncs(aggFuncs) {\n    this.init();\n    _iterateObject(aggFuncs, (key, aggFunc) => {\n      this.aggFuncsMap[key] = aggFunc;\n    });\n  }\n  getAggFunc(name) {\n    this.init();\n    return this.aggFuncsMap[name];\n  }\n  getFuncNames(column) {\n    const userAllowedFuncs = column.getColDef().allowedAggFuncs;\n    return userAllowedFuncs == null ? Object.keys(this.aggFuncsMap).sort() : userAllowedFuncs;\n  }\n  clear() {\n    this.aggFuncsMap = {};\n  }\n};\nfunction aggSum(params) {\n  const { values } = params;\n  let result = null;\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    if (typeof value === \"number\") {\n      if (result === null) {\n        result = value;\n      } else {\n        result += typeof result === \"number\" ? value : BigInt(value);\n      }\n    } else if (typeof value === \"bigint\") {\n      if (result === null) {\n        result = value;\n      } else {\n        result = (typeof result === \"bigint\" ? result : BigInt(result)) + value;\n      }\n    }\n  }\n  return result;\n}\nfunction aggFirst(params) {\n  return params.values.length > 0 ? params.values[0] : null;\n}\nfunction aggLast(params) {\n  return params.values.length > 0 ? _last(params.values) : null;\n}\nfunction aggMin(params) {\n  const { values } = params;\n  let result = null;\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    if ((typeof value === \"number\" || typeof value === \"bigint\") && (result === null || result > value)) {\n      result = value;\n    }\n  }\n  return result;\n}\nfunction aggMax(params) {\n  const { values } = params;\n  let result = null;\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    if ((typeof value === \"number\" || typeof value === \"bigint\") && (result === null || result < value)) {\n      result = value;\n    }\n  }\n  return result;\n}\nfunction aggCount(params) {\n  const { values } = params;\n  let result = 0;\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    result += value != null && typeof value.value === \"number\" ? value.value : 1;\n  }\n  const existingAggData = params.rowNode?.aggData?.[params.column.getColId()];\n  if (existingAggData && existingAggData.value === result) {\n    return existingAggData;\n  }\n  return {\n    value: result,\n    toString: function() {\n      return this.value.toString();\n    },\n    // used for sorting\n    toNumber: function() {\n      return this.value;\n    }\n  };\n}\nfunction aggAvg(params) {\n  const { values } = params;\n  let sum = 0;\n  let count = 0;\n  for (let i = 0; i < values.length; i++) {\n    const currentValue = values[i];\n    let valueToAdd = null;\n    if (typeof currentValue === \"number\" || typeof currentValue === \"bigint\") {\n      valueToAdd = currentValue;\n      count++;\n    } else if (currentValue != null && (typeof currentValue.value === \"number\" || typeof currentValue.value === \"bigint\") && typeof currentValue.count === \"number\") {\n      valueToAdd = currentValue.value * (typeof currentValue.value === \"number\" ? currentValue.count : BigInt(currentValue.count));\n      count += currentValue.count;\n    }\n    if (typeof valueToAdd === \"number\") {\n      sum += typeof sum === \"number\" ? valueToAdd : BigInt(valueToAdd);\n    } else if (typeof valueToAdd === \"bigint\") {\n      sum = (typeof sum === \"bigint\" ? sum : BigInt(sum)) + valueToAdd;\n    }\n  }\n  let value = null;\n  if (count > 0) {\n    value = sum / (typeof sum === \"number\" ? count : BigInt(count));\n  }\n  const existingAggData = params.rowNode?.aggData?.[params.column?.getColId()];\n  if (existingAggData && existingAggData.count === count && existingAggData.value === value) {\n    return existingAggData;\n  }\n  return {\n    count,\n    value,\n    // the grid by default uses toString to render values for an object, so this\n    // is a trick to get the default cellRenderer to display the avg value\n    toString: function() {\n      return typeof this.value === \"number\" || typeof this.value === \"bigint\" ? this.value.toString() : \"\";\n    },\n    // used for sorting\n    toNumber: function() {\n      return this.value;\n    }\n  };\n}\n\n// enterprise-modules/row-grouping/src/rowGrouping/aggregationStage.ts\nimport {\n  BeanStub as BeanStub2,\n  _errorOnce,\n  _getGrandTotalRow,\n  _getGroupAggFiltering,\n  _missingOrEmpty\n} from \"@ag-grid-community/core\";\nvar AggregationStage = class extends BeanStub2 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"aggregationStage\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.aggFuncService = beans.aggFuncService;\n    this.funcColsService = beans.funcColsService;\n    this.pivotResultColsService = beans.pivotResultColsService;\n    this.valueService = beans.valueService;\n  }\n  // it's possible to recompute the aggregate without doing the other parts\n  // + api.refreshClientSideRowModel('aggregate')\n  execute(params) {\n    const noValueColumns = _missingOrEmpty(this.funcColsService.getValueColumns());\n    const noUserAgg = !this.gos.getCallback(\"getGroupRowAgg\");\n    const changedPathActive = params.changedPath && params.changedPath.isActive();\n    if (noValueColumns && noUserAgg && changedPathActive) {\n      return;\n    }\n    const aggDetails = this.createAggDetails(params);\n    this.recursivelyCreateAggData(aggDetails);\n  }\n  createAggDetails(params) {\n    const pivotActive = this.columnModel.isPivotActive();\n    const measureColumns = this.funcColsService.getValueColumns();\n    const pivotColumns = pivotActive ? this.funcColsService.getPivotColumns() : [];\n    const aggDetails = {\n      alwaysAggregateAtRootLevel: this.gos.get(\"alwaysAggregateAtRootLevel\"),\n      groupIncludeTotalFooter: !!_getGrandTotalRow(this.gos),\n      changedPath: params.changedPath,\n      valueColumns: measureColumns,\n      pivotColumns,\n      filteredOnly: !this.isSuppressAggFilteredOnly(),\n      userAggFunc: this.gos.getCallback(\"getGroupRowAgg\")\n    };\n    return aggDetails;\n  }\n  isSuppressAggFilteredOnly() {\n    const isGroupAggFiltering = _getGroupAggFiltering(this.gos) !== void 0;\n    return isGroupAggFiltering || this.gos.get(\"suppressAggFilteredOnly\");\n  }\n  recursivelyCreateAggData(aggDetails) {\n    const callback = (rowNode) => {\n      const hasNoChildren = !rowNode.hasChildren();\n      if (hasNoChildren) {\n        if (rowNode.aggData) {\n          rowNode.setAggData(null);\n        }\n        return;\n      }\n      const isRootNode = rowNode.level === -1;\n      if (isRootNode && !aggDetails.groupIncludeTotalFooter) {\n        const notPivoting = !this.columnModel.isPivotMode();\n        if (!aggDetails.alwaysAggregateAtRootLevel && notPivoting) {\n          rowNode.setAggData(null);\n          return;\n        }\n      }\n      this.aggregateRowNode(rowNode, aggDetails);\n    };\n    aggDetails.changedPath.forEachChangedNodeDepthFirst(callback, true);\n  }\n  aggregateRowNode(rowNode, aggDetails) {\n    const measureColumnsMissing = aggDetails.valueColumns.length === 0;\n    const pivotColumnsMissing = aggDetails.pivotColumns.length === 0;\n    let aggResult;\n    if (aggDetails.userAggFunc) {\n      aggResult = aggDetails.userAggFunc({ nodes: rowNode.childrenAfterFilter });\n    } else if (measureColumnsMissing) {\n      aggResult = null;\n    } else if (pivotColumnsMissing) {\n      aggResult = this.aggregateRowNodeUsingValuesOnly(rowNode, aggDetails);\n    } else {\n      aggResult = this.aggregateRowNodeUsingValuesAndPivot(rowNode);\n    }\n    rowNode.setAggData(aggResult);\n    if (rowNode.sibling) {\n      rowNode.sibling.setAggData(aggResult);\n    }\n  }\n  aggregateRowNodeUsingValuesAndPivot(rowNode) {\n    const result = {};\n    const secondaryColumns = this.pivotResultColsService.getPivotResultCols()?.list ?? [];\n    let canSkipTotalColumns = true;\n    for (let i = 0; i < secondaryColumns.length; i++) {\n      const secondaryCol = secondaryColumns[i];\n      const colDef = secondaryCol.getColDef();\n      if (colDef.pivotTotalColumnIds != null) {\n        canSkipTotalColumns = false;\n        continue;\n      }\n      const keys = colDef.pivotKeys ?? [];\n      let values;\n      if (rowNode.leafGroup) {\n        values = this.getValuesFromMappedSet(rowNode.childrenMapped, keys, colDef.pivotValueColumn);\n      } else {\n        values = this.getValuesPivotNonLeaf(rowNode, colDef.colId);\n      }\n      result[colDef.colId] = this.aggregateValues(\n        values,\n        colDef.pivotValueColumn.getAggFunc(),\n        colDef.pivotValueColumn,\n        rowNode,\n        secondaryCol\n      );\n    }\n    if (!canSkipTotalColumns) {\n      for (let i = 0; i < secondaryColumns.length; i++) {\n        const secondaryCol = secondaryColumns[i];\n        const colDef = secondaryCol.getColDef();\n        if (colDef.pivotTotalColumnIds == null || !colDef.pivotTotalColumnIds.length) {\n          continue;\n        }\n        const aggResults = colDef.pivotTotalColumnIds.map(\n          (currentColId) => result[currentColId]\n        );\n        result[colDef.colId] = this.aggregateValues(\n          aggResults,\n          colDef.pivotValueColumn.getAggFunc(),\n          colDef.pivotValueColumn,\n          rowNode,\n          secondaryCol\n        );\n      }\n    }\n    return result;\n  }\n  aggregateRowNodeUsingValuesOnly(rowNode, aggDetails) {\n    const result = {};\n    const changedValueColumns = aggDetails.changedPath.isActive() ? aggDetails.changedPath.getValueColumnsForNode(rowNode, aggDetails.valueColumns) : aggDetails.valueColumns;\n    const notChangedValueColumns = aggDetails.changedPath.isActive() ? aggDetails.changedPath.getNotValueColumnsForNode(rowNode, aggDetails.valueColumns) : null;\n    const values2d = this.getValuesNormal(rowNode, changedValueColumns, aggDetails.filteredOnly);\n    const oldValues = rowNode.aggData;\n    changedValueColumns.forEach((valueColumn, index) => {\n      result[valueColumn.getId()] = this.aggregateValues(\n        values2d[index],\n        valueColumn.getAggFunc(),\n        valueColumn,\n        rowNode\n      );\n    });\n    if (notChangedValueColumns && oldValues) {\n      notChangedValueColumns.forEach((valueColumn) => {\n        result[valueColumn.getId()] = oldValues[valueColumn.getId()];\n      });\n    }\n    return result;\n  }\n  getValuesPivotNonLeaf(rowNode, colId) {\n    return rowNode.childrenAfterFilter.map((childNode) => childNode.aggData[colId]);\n  }\n  getValuesFromMappedSet(mappedSet, keys, valueColumn) {\n    let mapPointer = mappedSet;\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      mapPointer = mapPointer ? mapPointer[key] : null;\n    }\n    if (!mapPointer) {\n      return [];\n    }\n    return mapPointer.map((rowNode) => this.valueService.getValue(valueColumn, rowNode));\n  }\n  getValuesNormal(rowNode, valueColumns, filteredOnly) {\n    const values = [];\n    valueColumns.forEach(() => values.push([]));\n    const valueColumnCount = valueColumns.length;\n    const nodeList = filteredOnly ? rowNode.childrenAfterFilter : rowNode.childrenAfterGroup;\n    const rowCount = nodeList.length;\n    for (let i = 0; i < rowCount; i++) {\n      const childNode = nodeList[i];\n      for (let j = 0; j < valueColumnCount; j++) {\n        const valueColumn = valueColumns[j];\n        const value = this.valueService.getValue(valueColumn, childNode);\n        values[j].push(value);\n      }\n    }\n    return values;\n  }\n  aggregateValues(values, aggFuncOrString, column, rowNode, pivotResultColumn) {\n    const aggFunc = typeof aggFuncOrString === \"string\" ? this.aggFuncService.getAggFunc(aggFuncOrString) : aggFuncOrString;\n    if (typeof aggFunc !== \"function\") {\n      _errorOnce(`unrecognised aggregation function ${aggFuncOrString}`);\n      return null;\n    }\n    const aggFuncAny = aggFunc;\n    const params = this.gos.addGridCommonParams({\n      values,\n      column,\n      colDef: column ? column.getColDef() : void 0,\n      pivotResultColumn,\n      rowNode,\n      data: rowNode ? rowNode.data : void 0\n    });\n    return aggFuncAny(params);\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/autoColService.ts\nimport {\n  AgColumn,\n  BeanStub as BeanStub3,\n  GROUP_AUTO_COLUMN_ID,\n  _isColumnsSortingCoupledToGroup,\n  _isGroupMultiAutoColumn,\n  _mergeDeep,\n  _missing,\n  _warnOnce\n} from \"@ag-grid-community/core\";\nvar AutoColService = class extends BeanStub3 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"autoColService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnNameService = beans.columnNameService;\n    this.columnFactory = beans.columnFactory;\n  }\n  createAutoCols(rowGroupCols) {\n    const autoCols = [];\n    const doingTreeData = this.gos.get(\"treeData\");\n    let doingMultiAutoColumn = _isGroupMultiAutoColumn(this.gos);\n    if (doingTreeData && doingMultiAutoColumn) {\n      _warnOnce(\n        'you cannot mix groupDisplayType = \"multipleColumns\" with treeData, only one column can be used to display groups when doing tree data'\n      );\n      doingMultiAutoColumn = false;\n    }\n    if (doingMultiAutoColumn) {\n      rowGroupCols.forEach((rowGroupCol, index) => {\n        autoCols.push(this.createOneAutoCol(rowGroupCol, index));\n      });\n    } else {\n      autoCols.push(this.createOneAutoCol());\n    }\n    return autoCols;\n  }\n  updateAutoCols(autoGroupCols, source) {\n    autoGroupCols.forEach((col, index) => this.updateOneAutoCol(col, index, source));\n  }\n  // rowGroupCol and index are missing if groupDisplayType != \"multipleColumns\"\n  createOneAutoCol(rowGroupCol, index) {\n    let colId;\n    if (rowGroupCol) {\n      colId = `${GROUP_AUTO_COLUMN_ID}-${rowGroupCol.getId()}`;\n    } else {\n      colId = GROUP_AUTO_COLUMN_ID;\n    }\n    const colDef = this.createAutoColDef(colId, rowGroupCol, index);\n    colDef.colId = colId;\n    const newCol = new AgColumn(colDef, null, colId, true);\n    this.createBean(newCol);\n    return newCol;\n  }\n  /**\n   * Refreshes an auto group col to load changes from defaultColDef or autoGroupColDef\n   */\n  updateOneAutoCol(colToUpdate, index, source) {\n    const oldColDef = colToUpdate.getColDef();\n    const underlyingColId = typeof oldColDef.showRowGroup == \"string\" ? oldColDef.showRowGroup : void 0;\n    const underlyingColumn = underlyingColId != null ? this.columnModel.getColDefCol(underlyingColId) : void 0;\n    const colDef = this.createAutoColDef(colToUpdate.getId(), underlyingColumn ?? void 0, index);\n    colToUpdate.setColDef(colDef, null, source);\n    this.columnFactory.applyColumnState(colToUpdate, colDef, source);\n  }\n  createAutoColDef(colId, underlyingColumn, index) {\n    let res = this.createBaseColDef(underlyingColumn);\n    const autoGroupColumnDef = this.gos.get(\"autoGroupColumnDef\");\n    _mergeDeep(res, autoGroupColumnDef);\n    res = this.columnFactory.addColumnDefaultAndTypes(res, colId);\n    if (!this.gos.get(\"treeData\")) {\n      const noFieldOrValueGetter = _missing(res.field) && _missing(res.valueGetter) && _missing(res.filterValueGetter) && res.filter !== \"agGroupColumnFilter\";\n      if (noFieldOrValueGetter) {\n        res.filter = false;\n      }\n    }\n    if (index && index > 0) {\n      res.headerCheckboxSelection = false;\n    }\n    const isSortingCoupled = _isColumnsSortingCoupledToGroup(this.gos);\n    const hasOwnData = res.valueGetter || res.field != null;\n    if (isSortingCoupled && !hasOwnData) {\n      res.sortIndex = void 0;\n      res.initialSort = void 0;\n    }\n    return res;\n  }\n  createBaseColDef(rowGroupCol) {\n    const userDef = this.gos.get(\"autoGroupColumnDef\");\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const res = {\n      headerName: localeTextFunc(\"group\", \"Group\")\n    };\n    const userHasProvidedGroupCellRenderer = userDef && (userDef.cellRenderer || userDef.cellRendererSelector);\n    if (!userHasProvidedGroupCellRenderer) {\n      res.cellRenderer = \"agGroupCellRenderer\";\n    }\n    if (rowGroupCol) {\n      const colDef = rowGroupCol.getColDef();\n      Object.assign(res, {\n        headerName: this.columnNameService.getDisplayNameForColumn(rowGroupCol, \"header\"),\n        headerValueGetter: colDef.headerValueGetter\n      });\n      if (colDef.cellRenderer) {\n        Object.assign(res, {\n          cellRendererParams: {\n            innerRenderer: colDef.cellRenderer,\n            innerRendererParams: colDef.cellRendererParams\n          }\n        });\n      }\n      res.showRowGroup = rowGroupCol.getColId();\n    } else {\n      res.showRowGroup = true;\n    }\n    return res;\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/columnDropZoneService.ts\nimport { BeanStub as BeanStub4 } from \"@ag-grid-community/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/agGridHeaderDropZones.ts\nimport { Component as Component2, _setAriaRole } from \"@ag-grid-community/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/pivotDropZonePanel.ts\nimport { _createIconNoSpan } from \"@ag-grid-community/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/baseDropZonePanel.ts\nimport { DragSourceType as DragSourceType2 } from \"@ag-grid-community/core\";\nimport { PillDropZonePanel } from \"@ag-grid-enterprise/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/dropZoneColumnComp.ts\nimport {\n  Component,\n  DragSourceType,\n  KeyCode,\n  RefPlaceholder,\n  SortIndicatorSelector,\n  _loadTemplate\n} from \"@ag-grid-community/core\";\nimport { PillDragComp, VirtualList } from \"@ag-grid-enterprise/core\";\nvar DropZoneColumnComp = class extends PillDragComp {\n  constructor(column, dragSourceDropTarget, ghost, dropZonePurpose, horizontal) {\n    super(\n      dragSourceDropTarget,\n      ghost,\n      horizontal,\n      /* html */\n      `\n                <span role=\"option\">\n                    <span data-ref=\"eDragHandle\" class=\"ag-drag-handle ag-column-drop-cell-drag-handle\" role=\"presentation\"></span>\n                    <span data-ref=\"eText\" class=\"ag-column-drop-cell-text\" aria-hidden=\"true\"></span>\n                    <ag-sort-indicator data-ref=\"eSortIndicator\"></ag-sort-indicator>\n                    <span data-ref=\"eButton\" class=\"ag-column-drop-cell-button\" role=\"presentation\"></span>\n                </span>\n            `,\n      [SortIndicatorSelector]\n    );\n    this.column = column;\n    this.dropZonePurpose = dropZonePurpose;\n    this.eSortIndicator = RefPlaceholder;\n    this.popupShowing = false;\n  }\n  wireBeans(beans) {\n    super.wireBeans(beans);\n    this.popupService = beans.popupService;\n    this.sortController = beans.sortController;\n    this.columnModel = beans.columnModel;\n    this.columnNameService = beans.columnNameService;\n    this.funcColsService = beans.funcColsService;\n    this.aggFuncService = beans.aggFuncService;\n  }\n  postConstruct() {\n    this.displayName = this.columnNameService.getDisplayNameForColumn(this.column, \"columnDrop\");\n    super.postConstruct();\n    this.setupSort();\n    this.addManagedEventListeners({\n      sortChanged: () => {\n        this.setupAria();\n      }\n    });\n    if (this.isGroupingZone()) {\n      this.addManagedPropertyListener(\"groupLockGroupColumns\", () => {\n        this.refreshRemove();\n        this.refreshDraggable();\n        this.setupAria();\n      });\n    }\n  }\n  getItem() {\n    return this.column;\n  }\n  getDisplayName() {\n    return this.displayName;\n  }\n  getTooltip() {\n    return this.column.getColDef().headerTooltip;\n  }\n  addAdditionalAriaInstructions(ariaInstructions, translate) {\n    const isSortSuppressed = this.gos.get(\"rowGroupPanelSuppressSort\");\n    const isFunctionsReadOnly = this.gos.get(\"functionsReadOnly\");\n    if (this.isAggregationZone() && !isFunctionsReadOnly) {\n      const aggregationMenuAria = translate(\n        \"ariaDropZoneColumnValueItemDescription\",\n        \"Press ENTER to change the aggregation type\"\n      );\n      ariaInstructions.push(aggregationMenuAria);\n    }\n    if (this.isGroupingZone() && this.column.isSortable() && !isSortSuppressed) {\n      const sortProgressAria = translate(\"ariaDropZoneColumnGroupItemDescription\", \"Press ENTER to sort\");\n      ariaInstructions.push(sortProgressAria);\n    }\n    super.addAdditionalAriaInstructions(ariaInstructions, translate);\n  }\n  isDraggable() {\n    return this.isReadOnly();\n  }\n  isRemovable() {\n    return this.isReadOnly();\n  }\n  isReadOnly() {\n    return !this.isGroupingAndLocked() && !this.gos.get(\"functionsReadOnly\");\n  }\n  getAriaDisplayName() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const { name, aggFuncName } = this.getColumnAndAggFuncName();\n    const aggSeparator = translate(\"ariaDropZoneColumnComponentAggFuncSeparator\", \" of \");\n    const sortDirection = {\n      asc: translate(\"ariaDropZoneColumnComponentSortAscending\", \"ascending\"),\n      desc: translate(\"ariaDropZoneColumnComponentSortDescending\", \"descending\")\n    };\n    const columnSort = this.column.getSort();\n    const isSortSuppressed = this.gos.get(\"rowGroupPanelSuppressSort\");\n    return [\n      aggFuncName && `${aggFuncName}${aggSeparator}`,\n      name,\n      this.isGroupingZone() && !isSortSuppressed && columnSort && `, ${sortDirection[columnSort]}`\n    ].filter((part) => !!part).join(\"\");\n  }\n  getColumnAndAggFuncName() {\n    const name = this.displayName;\n    let aggFuncName = \"\";\n    if (this.isAggregationZone()) {\n      const aggFunc = this.column.getAggFunc();\n      const aggFuncString = typeof aggFunc === \"string\" ? aggFunc : \"agg\";\n      const localeTextFunc = this.localeService.getLocaleTextFunc();\n      aggFuncName = localeTextFunc(aggFuncString, aggFuncString);\n    }\n    return { name, aggFuncName };\n  }\n  setupSort() {\n    const canSort = this.column.isSortable();\n    const isGroupingZone = this.isGroupingZone();\n    if (!canSort || !isGroupingZone) {\n      return;\n    }\n    if (!this.gos.get(\"rowGroupPanelSuppressSort\")) {\n      this.eSortIndicator.setupSort(this.column, true);\n      const performSort = (event) => {\n        event.preventDefault();\n        const sortUsingCtrl = this.gos.get(\"multiSortKey\") === \"ctrl\";\n        const multiSort = sortUsingCtrl ? event.ctrlKey || event.metaKey : event.shiftKey;\n        this.sortController.progressSort(this.column, multiSort, \"uiColumnSorted\");\n      };\n      this.addGuiEventListener(\"click\", performSort);\n      this.addGuiEventListener(\"keydown\", (e) => {\n        const isEnter = e.key === KeyCode.ENTER;\n        if (isEnter && this.isGroupingZone()) {\n          performSort(e);\n        }\n      });\n    }\n  }\n  getDefaultIconName() {\n    return \"hide\";\n  }\n  createGetDragItem() {\n    const { column } = this;\n    return () => {\n      const visibleState = {};\n      visibleState[column.getId()] = column.isVisible();\n      return {\n        columns: [column],\n        visibleState\n      };\n    };\n  }\n  setupComponents() {\n    super.setupComponents();\n    if (this.isAggregationZone() && !this.gos.get(\"functionsReadOnly\")) {\n      this.addGuiEventListener(\"click\", this.onShowAggFuncSelection.bind(this));\n    }\n  }\n  onKeyDown(e) {\n    super.onKeyDown(e);\n    const isEnter = e.key === KeyCode.ENTER;\n    if (isEnter && this.isAggregationZone() && !this.gos.get(\"functionsReadOnly\")) {\n      e.preventDefault();\n      this.onShowAggFuncSelection();\n    }\n  }\n  getDisplayValue() {\n    const { name, aggFuncName } = this.getColumnAndAggFuncName();\n    return this.isAggregationZone() ? `${aggFuncName}(${name})` : name;\n  }\n  onShowAggFuncSelection() {\n    if (this.popupShowing) {\n      return;\n    }\n    this.popupShowing = true;\n    const virtualList = new VirtualList({ cssIdentifier: \"select-agg-func\" });\n    const rows = this.aggFuncService.getFuncNames(this.column);\n    const eGui = this.getGui();\n    const virtualListGui = virtualList.getGui();\n    virtualList.setModel({\n      getRow: function(index) {\n        return rows[index];\n      },\n      getRowCount: function() {\n        return rows.length;\n      }\n    });\n    this.createBean(virtualList);\n    const ePopup = _loadTemplate(\n      /* html*/\n      `<div class=\"ag-select-agg-func-popup\"></div>`\n    );\n    ePopup.style.top = \"0px\";\n    ePopup.style.left = \"0px\";\n    ePopup.appendChild(virtualListGui);\n    ePopup.style.width = `${eGui.clientWidth}px`;\n    const [focusoutListener] = this.addManagedElementListeners(ePopup, {\n      focusout: (e) => {\n        if (!ePopup.contains(e.relatedTarget) && addPopupRes) {\n          addPopupRes.hideFunc();\n        }\n      }\n    });\n    const popupHiddenFunc = (callbackEvent) => {\n      this.destroyBean(virtualList);\n      this.popupShowing = false;\n      if (callbackEvent?.key === \"Escape\") {\n        eGui.focus();\n      }\n      if (focusoutListener) {\n        focusoutListener();\n      }\n    };\n    const translate = this.localeService.getLocaleTextFunc();\n    const addPopupRes = this.popupService.addPopup({\n      modal: true,\n      eChild: ePopup,\n      closeOnEsc: true,\n      closedCallback: popupHiddenFunc,\n      ariaLabel: translate(\"ariaLabelAggregationFunction\", \"Aggregation Function\")\n    });\n    if (addPopupRes) {\n      virtualList.setComponentCreator(this.createAggSelect.bind(this, addPopupRes.hideFunc));\n    }\n    virtualList.addGuiEventListener(\"keydown\", (e) => {\n      if (e.key === KeyCode.ENTER || e.key === KeyCode.SPACE) {\n        const row = virtualList.getLastFocusedRow();\n        if (row == null) {\n          return;\n        }\n        const comp = virtualList.getComponentAt(row);\n        if (comp) {\n          comp.selectItem();\n        }\n      }\n    });\n    this.popupService.positionPopupByComponent({\n      type: \"aggFuncSelect\",\n      eventSource: eGui,\n      ePopup,\n      keepWithinBounds: true,\n      column: this.column,\n      position: \"under\"\n    });\n    virtualList.refresh();\n    let rowToFocus = rows.findIndex((r) => r === this.column.getAggFunc());\n    if (rowToFocus === -1) {\n      rowToFocus = 0;\n    }\n    virtualList.focusRow(rowToFocus);\n  }\n  createAggSelect(hidePopup, value) {\n    const itemSelected = () => {\n      hidePopup();\n      this.getGui().focus();\n      this.funcColsService.setColumnAggFunc(this.column, value, \"toolPanelDragAndDrop\");\n    };\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const aggFuncString = value.toString();\n    const aggFuncStringTranslated = localeTextFunc(aggFuncString, aggFuncString);\n    const comp = new AggItemComp(itemSelected, aggFuncStringTranslated);\n    return comp;\n  }\n  isGroupingAndLocked() {\n    return this.isGroupingZone() && this.columnModel.isColGroupLocked(this.column);\n  }\n  isAggregationZone() {\n    return this.dropZonePurpose === \"aggregation\";\n  }\n  isGroupingZone() {\n    return this.dropZonePurpose === \"rowGroup\";\n  }\n  getDragSourceType() {\n    return DragSourceType.ToolPanel;\n  }\n  destroy() {\n    super.destroy();\n    this.column = null;\n  }\n};\nvar AggItemComp = class extends Component {\n  constructor(itemSelected, value) {\n    super(\n      /* html */\n      `<div class=\"ag-select-agg-func-item\"/>`\n    );\n    this.selectItem = itemSelected;\n    this.getGui().innerText = value;\n    this.addGuiEventListener(\"click\", this.selectItem);\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/baseDropZonePanel.ts\nvar BaseDropZonePanel = class extends PillDropZonePanel {\n  constructor(horizontal, dropZonePurpose) {\n    super(horizontal);\n    this.dropZonePurpose = dropZonePurpose;\n  }\n  wireBeans(beans) {\n    super.wireBeans(beans);\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n  }\n  init(params) {\n    super.init(params);\n    this.addManagedEventListeners({ newColumnsLoaded: this.refreshGui.bind(this) });\n    this.addManagedPropertyListeners(\n      [\"functionsReadOnly\", \"rowGroupPanelSuppressSort\", \"groupLockGroupColumns\"],\n      this.refreshGui.bind(this)\n    );\n  }\n  getItems(dragItem) {\n    return dragItem.columns ?? [];\n  }\n  isInterestedIn(type) {\n    return type === DragSourceType2.HeaderCell || type === DragSourceType2.ToolPanel;\n  }\n  minimumAllowedNewInsertIndex() {\n    const numberOfLockedCols = this.gos.get(\"groupLockGroupColumns\");\n    const numberOfGroupCols = this.funcColsService.getRowGroupColumns().length;\n    if (numberOfLockedCols === -1) {\n      return numberOfGroupCols;\n    }\n    return Math.min(numberOfLockedCols, numberOfGroupCols);\n  }\n  showOrHideColumnOnExit(draggingEvent) {\n    return this.isRowGroupPanel() && !this.gos.get(\"suppressRowGroupHidesColumns\") && !draggingEvent.fromNudge;\n  }\n  handleDragEnterEnd(draggingEvent) {\n    const hideColumnOnExit = this.showOrHideColumnOnExit(draggingEvent);\n    if (hideColumnOnExit) {\n      const dragItem = draggingEvent.dragSource.getDragItem();\n      const columns = dragItem.columns;\n      this.setColumnsVisible(columns, false, \"uiColumnDragged\");\n    }\n  }\n  handleDragLeaveEnd(draggingEvent) {\n    const showColumnOnExit = this.showOrHideColumnOnExit(draggingEvent);\n    if (showColumnOnExit) {\n      const dragItem = draggingEvent.dragSource.getDragItem();\n      this.setColumnsVisible(dragItem.columns, true, \"uiColumnDragged\");\n    }\n  }\n  setColumnsVisible(columns, visible, source) {\n    if (columns) {\n      const allowedCols = columns.filter((c) => !c.getColDef().lockVisible);\n      this.columnModel.setColsVisible(allowedCols, visible, source);\n    }\n  }\n  isRowGroupPanel() {\n    return this.dropZonePurpose === \"rowGroup\";\n  }\n  createPillComponent(column, dropTarget, ghost, horizontal) {\n    return new DropZoneColumnComp(column, dropTarget, ghost, this.dropZonePurpose, horizontal);\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/pivotDropZonePanel.ts\nvar PivotDropZonePanel = class extends BaseDropZonePanel {\n  constructor(horizontal) {\n    super(horizontal, \"pivot\");\n  }\n  postConstruct() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const emptyMessage = localeTextFunc(\"pivotColumnsEmptyMessage\", \"Drag here to set column labels\");\n    const title = localeTextFunc(\"pivots\", \"Column Labels\");\n    super.init({\n      icon: _createIconNoSpan(\"pivotPanel\", this.gos, null),\n      emptyMessage,\n      title\n    });\n    this.addManagedEventListeners({\n      newColumnsLoaded: this.refresh.bind(this),\n      columnPivotChanged: this.refresh.bind(this),\n      columnPivotModeChanged: this.checkVisibility.bind(this)\n    });\n    this.refresh();\n  }\n  getAriaLabel() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const label = translate(\"ariaPivotDropZonePanelLabel\", \"Column Labels\");\n    return label;\n  }\n  getTooltipParams() {\n    const res = super.getTooltipParams();\n    res.location = \"pivotColumnsList\";\n    return res;\n  }\n  refresh() {\n    this.checkVisibility();\n    this.refreshGui();\n  }\n  checkVisibility() {\n    const pivotMode = this.columnModel.isPivotMode();\n    if (this.isHorizontal()) {\n      switch (this.gos.get(\"pivotPanelShow\")) {\n        case \"always\":\n          this.setDisplayed(pivotMode);\n          break;\n        case \"onlyWhenPivoting\": {\n          const pivotActive = this.columnModel.isPivotActive();\n          this.setDisplayed(pivotMode && pivotActive);\n          break;\n        }\n        default:\n          this.setDisplayed(false);\n          break;\n      }\n    } else {\n      this.setDisplayed(pivotMode);\n    }\n  }\n  isItemDroppable(column, draggingEvent) {\n    if (this.gos.get(\"functionsReadOnly\") || !column.isPrimary()) {\n      return false;\n    }\n    return column.isAllowPivot() && (!column.isPivotActive() || this.isSourceEventFromTarget(draggingEvent));\n  }\n  updateItems(columns) {\n    this.funcColsService.setPivotColumns(columns, \"toolPanelUi\");\n  }\n  getIconName() {\n    return this.isPotentialDndItems() ? \"pivot\" : \"notAllowed\";\n  }\n  getExistingItems() {\n    return this.funcColsService.getPivotColumns();\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/rowGroupDropZonePanel.ts\nimport { _createIconNoSpan as _createIconNoSpan2 } from \"@ag-grid-community/core\";\nvar RowGroupDropZonePanel = class extends BaseDropZonePanel {\n  constructor(horizontal) {\n    super(horizontal, \"rowGroup\");\n  }\n  postConstruct() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const emptyMessage = localeTextFunc(\"rowGroupColumnsEmptyMessage\", \"Drag here to set row groups\");\n    const title = localeTextFunc(\"groups\", \"Row Groups\");\n    super.init({\n      icon: _createIconNoSpan2(\"rowGroupPanel\", this.gos, null),\n      emptyMessage,\n      title\n    });\n    this.addManagedEventListeners({ columnRowGroupChanged: this.refreshGui.bind(this) });\n  }\n  getAriaLabel() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const label = translate(\"ariaRowGroupDropZonePanelLabel\", \"Row Groups\");\n    return label;\n  }\n  getTooltipParams() {\n    const res = super.getTooltipParams();\n    res.location = \"rowGroupColumnsList\";\n    return res;\n  }\n  isItemDroppable(column, draggingEvent) {\n    if (this.gos.get(\"functionsReadOnly\") || !column.isPrimary()) {\n      return false;\n    }\n    return column.isAllowRowGroup() && (!column.isRowGroupActive() || this.isSourceEventFromTarget(draggingEvent));\n  }\n  updateItems(columns) {\n    this.funcColsService.setRowGroupColumns(columns, \"toolPanelUi\");\n  }\n  getIconName() {\n    return this.isPotentialDndItems() ? \"group\" : \"notAllowed\";\n  }\n  getExistingItems() {\n    return this.funcColsService.getRowGroupColumns();\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/agGridHeaderDropZones.ts\nvar AgGridHeaderDropZones = class extends Component2 {\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n  }\n  constructor() {\n    super();\n  }\n  postConstruct() {\n    this.setGui(this.createNorthPanel());\n    const onRowGroupChanged = this.onRowGroupChanged.bind(this);\n    this.addManagedEventListeners({\n      columnRowGroupChanged: onRowGroupChanged,\n      newColumnsLoaded: onRowGroupChanged\n    });\n    this.addManagedPropertyListener(\"rowGroupPanelShow\", onRowGroupChanged);\n    this.addManagedPropertyListener(\"pivotPanelShow\", () => this.onPivotPanelShow());\n    this.onRowGroupChanged();\n  }\n  createNorthPanel() {\n    const topPanelGui = document.createElement(\"div\");\n    topPanelGui.classList.add(\"ag-column-drop-wrapper\");\n    _setAriaRole(topPanelGui, \"presentation\");\n    this.rowGroupComp = new RowGroupDropZonePanel(true);\n    this.createManagedBean(this.rowGroupComp);\n    this.pivotComp = new PivotDropZonePanel(true);\n    this.createManagedBean(this.pivotComp);\n    topPanelGui.appendChild(this.rowGroupComp.getGui());\n    topPanelGui.appendChild(this.pivotComp.getGui());\n    const listener = this.onDropPanelVisible.bind(this);\n    this.addManagedListeners(this.rowGroupComp, {\n      displayChanged: listener\n    });\n    this.addManagedListeners(this.pivotComp, {\n      displayChanged: listener\n    });\n    this.onDropPanelVisible();\n    return topPanelGui;\n  }\n  onDropPanelVisible() {\n    const bothDisplayed = this.rowGroupComp.isDisplayed() && this.pivotComp.isDisplayed();\n    const classStr = \"ag-column-drop-horizontal-half-width\";\n    this.rowGroupComp.addOrRemoveCssClass(classStr, bothDisplayed);\n    this.pivotComp.addOrRemoveCssClass(classStr, bothDisplayed);\n  }\n  onRowGroupChanged() {\n    if (!this.rowGroupComp) {\n      return;\n    }\n    const rowGroupPanelShow = this.gos.get(\"rowGroupPanelShow\");\n    if (rowGroupPanelShow === \"always\") {\n      this.rowGroupComp.setDisplayed(true);\n    } else if (rowGroupPanelShow === \"onlyWhenGrouping\") {\n      const grouping = !this.funcColsService.isRowGroupEmpty();\n      this.rowGroupComp.setDisplayed(grouping);\n    } else {\n      this.rowGroupComp.setDisplayed(false);\n    }\n  }\n  onPivotPanelShow() {\n    if (!this.pivotComp) {\n      return;\n    }\n    const pivotPanelShow = this.gos.get(\"pivotPanelShow\");\n    if (pivotPanelShow === \"always\") {\n      this.pivotComp.setDisplayed(true);\n    } else if (pivotPanelShow === \"onlyWhenPivoting\") {\n      const pivoting = this.columnModel.isPivotActive();\n      this.pivotComp.setDisplayed(pivoting);\n    } else {\n      this.pivotComp.setDisplayed(false);\n    }\n  }\n};\nvar AgGridHeaderDropZonesSelector = {\n  selector: \"AG-GRID-HEADER-DROP-ZONES\",\n  component: AgGridHeaderDropZones\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/columnDropZoneService.ts\nvar ColumnDropZoneService = class extends BeanStub4 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnDropZonesService\";\n  }\n  getDropZoneSelector() {\n    return AgGridHeaderDropZonesSelector;\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/filterAggregatesStage.ts\nimport { BeanStub as BeanStub5, _getGroupAggFiltering as _getGroupAggFiltering2 } from \"@ag-grid-community/core\";\nvar FilterAggregatesStage = class extends BeanStub5 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"filterAggregatesStage\";\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n    this.columnModel = beans.columnModel;\n  }\n  execute(params) {\n    const isPivotMode2 = this.columnModel.isPivotMode();\n    const isAggFilterActive = this.filterManager?.isAggregateFilterPresent() || this.filterManager?.isAggregateQuickFilterPresent();\n    const defaultPrimaryColumnPredicate = (params2) => !params2.node.group;\n    const defaultSecondaryColumnPredicate = (params2) => params2.node.leafGroup;\n    const applyFilterToNode = _getGroupAggFiltering2(this.gos) || (isPivotMode2 ? defaultSecondaryColumnPredicate : defaultPrimaryColumnPredicate);\n    const { changedPath } = params;\n    const preserveChildren = (node, recursive = false) => {\n      if (node.childrenAfterFilter) {\n        node.childrenAfterAggFilter = node.childrenAfterFilter;\n        if (recursive) {\n          node.childrenAfterAggFilter.forEach((child) => preserveChildren(child, recursive));\n        }\n        this.setAllChildrenCount(node);\n      }\n      if (node.sibling) {\n        node.sibling.childrenAfterAggFilter = node.childrenAfterAggFilter;\n      }\n    };\n    const filterChildren = (node) => {\n      node.childrenAfterAggFilter = node.childrenAfterFilter?.filter((child) => {\n        const shouldFilterRow = applyFilterToNode({ node: child });\n        if (shouldFilterRow) {\n          const doesNodePassFilter = this.filterManager.doesRowPassAggregateFilters({ rowNode: child });\n          if (doesNodePassFilter) {\n            preserveChildren(child, true);\n            return true;\n          }\n        }\n        const hasChildPassed = child.childrenAfterAggFilter?.length;\n        return hasChildPassed;\n      }) || null;\n      this.setAllChildrenCount(node);\n      if (node.sibling) {\n        node.sibling.childrenAfterAggFilter = node.childrenAfterAggFilter;\n      }\n    };\n    changedPath.forEachChangedNodeDepthFirst(isAggFilterActive ? filterChildren : preserveChildren, true);\n  }\n  /** for tree data, we include all children, groups and leafs */\n  setAllChildrenCountTreeData(rowNode) {\n    const childrenAfterAggFilter = rowNode.childrenAfterAggFilter;\n    let allChildrenCount = 0;\n    if (childrenAfterAggFilter) {\n      const length = childrenAfterAggFilter.length;\n      allChildrenCount = length;\n      for (let i = 0; i < length; ++i) {\n        allChildrenCount += childrenAfterAggFilter[i].allChildrenCount ?? 0;\n      }\n    }\n    rowNode.setAllChildrenCount(\n      // Maintain the historical behaviour:\n      // - allChildrenCount is 0 in the root if there are no children\n      // - allChildrenCount is null in any non-root row if there are no children\n      allChildrenCount === 0 && rowNode.level >= 0 ? null : allChildrenCount\n    );\n  }\n  /* for grid data, we only count the leafs */\n  setAllChildrenCountGridGrouping(rowNode) {\n    let allChildrenCount = 0;\n    rowNode.childrenAfterAggFilter.forEach((child) => {\n      if (child.group) {\n        allChildrenCount += child.allChildrenCount;\n      } else {\n        allChildrenCount++;\n      }\n    });\n    rowNode.setAllChildrenCount(allChildrenCount);\n  }\n  setAllChildrenCount(rowNode) {\n    if (!rowNode.hasChildren()) {\n      rowNode.setAllChildrenCount(null);\n      return;\n    }\n    if (this.gos.get(\"treeData\")) {\n      this.setAllChildrenCountTreeData(rowNode);\n    } else {\n      this.setAllChildrenCountGridGrouping(rowNode);\n    }\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupFilter/groupFilter.ts\nimport {\n  AgPromise,\n  AgSelect,\n  FilterWrapperComp,\n  RefPlaceholder as RefPlaceholder2,\n  TabGuardComp,\n  _clearElement,\n  _loadTemplate as _loadTemplate2,\n  _setDisplayed,\n  _warnOnce as _warnOnce2\n} from \"@ag-grid-community/core\";\nvar GroupFilter = class extends TabGuardComp {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div class=\"ag-group-filter\">\n                <div data-ref=\"eGroupField\"></div>\n                <div data-ref=\"eUnderlyingFilter\"></div>\n            </div>\n        `\n    );\n    this.eGroupField = RefPlaceholder2;\n    this.eUnderlyingFilter = RefPlaceholder2;\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n    this.columnNameService = beans.columnNameService;\n    this.funcColsService = beans.funcColsService;\n  }\n  postConstruct() {\n    this.initialiseTabGuard({});\n  }\n  init(params) {\n    return this.updateParams(params).then(() => {\n      this.addManagedEventListeners({\n        columnRowGroupChanged: () => this.onColumnRowGroupChanged(),\n        filterDestroyed: (event) => this.onFilterDestroyed(event)\n      });\n    });\n  }\n  refresh(params) {\n    this.updateParams(params);\n    return true;\n  }\n  updateParams(params) {\n    this.params = params;\n    this.validateParams();\n    return this.updateGroups();\n  }\n  validateParams() {\n    const { colDef } = this.params;\n    if (colDef.field) {\n      _warnOnce2(\n        'Group Column Filter does not work with the colDef property \"field\". This property will be ignored.'\n      );\n    }\n    if (colDef.filterValueGetter) {\n      _warnOnce2(\n        'Group Column Filter does not work with the colDef property \"filterValueGetter\". This property will be ignored.'\n      );\n    }\n    if (colDef.filterParams) {\n      _warnOnce2(\n        'Group Column Filter does not work with the colDef property \"filterParams\". This property will be ignored.'\n      );\n    }\n  }\n  updateGroups() {\n    const sourceColumns = this.updateGroupField();\n    return this.getUnderlyingFilters(sourceColumns);\n  }\n  getSourceColumns() {\n    this.groupColumn = this.params.column;\n    if (this.gos.get(\"treeData\")) {\n      _warnOnce2(\n        \"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.\"\n      );\n      return [];\n    }\n    const sourceColumns = this.funcColsService.getSourceColumnsForGroupColumn(this.groupColumn);\n    if (!sourceColumns) {\n      _warnOnce2(\"Group Column Filter only works on group columns. Please use a different filter.\");\n      return [];\n    }\n    return sourceColumns;\n  }\n  updateGroupField() {\n    _clearElement(this.eGroupField);\n    if (this.eGroupFieldSelect) {\n      this.destroyBean(this.eGroupFieldSelect);\n    }\n    const allSourceColumns = this.getSourceColumns();\n    const sourceColumns = allSourceColumns.filter((sourceColumn) => sourceColumn.isFilterAllowed());\n    if (!sourceColumns.length) {\n      this.selectedColumn = void 0;\n      _setDisplayed(this.eGroupField, false);\n      return null;\n    }\n    if (allSourceColumns.length === 1) {\n      this.selectedColumn = sourceColumns[0];\n      _setDisplayed(this.eGroupField, false);\n    } else {\n      if (!this.selectedColumn || !sourceColumns.some((column) => column.getId() === this.selectedColumn.getId())) {\n        this.selectedColumn = sourceColumns[0];\n      }\n      this.createGroupFieldSelectElement(sourceColumns);\n      this.eGroupField.appendChild(this.eGroupFieldSelect.getGui());\n      this.eGroupField.appendChild(_loadTemplate2(\n        /* html */\n        `<div class=\"ag-filter-separator\"></div>`\n      ));\n      _setDisplayed(this.eGroupField, true);\n    }\n    return sourceColumns;\n  }\n  createGroupFieldSelectElement(sourceColumns) {\n    this.eGroupFieldSelect = this.createManagedBean(new AgSelect());\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    this.eGroupFieldSelect.setLabel(localeTextFunc(\"groupFilterSelect\", \"Select field:\"));\n    this.eGroupFieldSelect.setLabelAlignment(\"top\");\n    this.eGroupFieldSelect.addOptions(\n      sourceColumns.map((sourceColumn) => ({\n        value: sourceColumn.getId(),\n        text: this.columnNameService.getDisplayNameForColumn(sourceColumn, \"groupFilter\", false) ?? void 0\n      }))\n    );\n    this.eGroupFieldSelect.setValue(this.selectedColumn.getId());\n    this.eGroupFieldSelect.onValueChange((newValue) => this.updateSelectedColumn(newValue));\n    this.eGroupFieldSelect.addCssClass(\"ag-group-filter-field-select-wrapper\");\n    if (sourceColumns.length === 1) {\n      this.eGroupFieldSelect.setDisabled(true);\n    }\n  }\n  getUnderlyingFilters(sourceColumns) {\n    if (!sourceColumns) {\n      this.filterColumnPairs = void 0;\n      this.selectedFilter = void 0;\n      this.groupColumn.setFilterActive(false, \"columnRowGroupChanged\");\n      return AgPromise.resolve();\n    }\n    const filterPromises = [];\n    const filterColumnPairs = [];\n    sourceColumns.forEach((column) => {\n      const filterWrapper = this.filterManager.getOrCreateFilterWrapper(column);\n      if (filterWrapper?.filterPromise) {\n        filterPromises.push(\n          filterWrapper.filterPromise.then((filter) => {\n            if (filter) {\n              filterColumnPairs.push({\n                filter,\n                column\n              });\n            }\n            if (column.getId() === this.selectedColumn.getId()) {\n              this.selectedFilter = filter ?? void 0;\n            }\n            return filter;\n          })\n        );\n      }\n    });\n    return AgPromise.all(filterPromises).then(() => {\n      this.filterColumnPairs = filterColumnPairs;\n      this.groupColumn.setFilterActive(this.isFilterActive(), \"columnRowGroupChanged\");\n    });\n  }\n  addUnderlyingFilterElement() {\n    _clearElement(this.eUnderlyingFilter);\n    if (!this.selectedColumn) {\n      return AgPromise.resolve();\n    }\n    const comp = this.createManagedBean(new FilterWrapperComp(this.selectedColumn, \"COLUMN_MENU\"));\n    this.filterWrapperComp = comp;\n    if (!comp.hasFilter()) {\n      return AgPromise.resolve();\n    }\n    this.eUnderlyingFilter.appendChild(comp.getGui());\n    return comp.getFilter()?.then(() => {\n      comp.afterGuiAttached?.(this.afterGuiAttachedParams);\n      if (!this.afterGuiAttachedParams?.suppressFocus && this.eGroupFieldSelect && !this.eGroupFieldSelect.isDisabled()) {\n        this.eGroupFieldSelect.getFocusableElement().focus();\n      }\n    }) ?? AgPromise.resolve();\n  }\n  updateSelectedColumn(columnId) {\n    if (!columnId) {\n      return;\n    }\n    this.filterWrapperComp?.afterGuiDetached();\n    this.destroyBean(this.filterWrapperComp);\n    const selectedFilterColumnPair = this.getFilterColumnPair(columnId);\n    this.selectedColumn = selectedFilterColumnPair?.column;\n    this.selectedFilter = selectedFilterColumnPair?.filter;\n    this.dispatchLocalEvent({\n      type: \"selectedColumnChanged\"\n    });\n    this.addUnderlyingFilterElement();\n  }\n  isFilterActive() {\n    return !!this.filterColumnPairs?.some(({ filter }) => filter.isFilterActive());\n  }\n  doesFilterPass() {\n    return true;\n  }\n  getModel() {\n    return null;\n  }\n  setModel() {\n    return AgPromise.resolve();\n  }\n  afterGuiAttached(params) {\n    this.afterGuiAttachedParams = params;\n    this.addUnderlyingFilterElement();\n  }\n  afterGuiDetached() {\n    _clearElement(this.eUnderlyingFilter);\n    this.selectedFilter?.afterGuiDetached?.();\n  }\n  onColumnRowGroupChanged() {\n    this.updateGroups().then(() => {\n      this.dispatchLocalEvent({\n        type: \"columnRowGroupChanged\"\n      });\n    });\n  }\n  onFilterDestroyed({ column: eventColumn, source }) {\n    if (source === \"gridDestroyed\") {\n      return;\n    }\n    const colId = eventColumn.getColId();\n    if (this.filterColumnPairs?.some(({ column }) => column.getColId() === colId)) {\n      setTimeout(() => {\n        if (this.isAlive()) {\n          this.updateGroups();\n        }\n      });\n    }\n  }\n  getFilterColumnPair(columnId) {\n    if (!columnId) {\n      return void 0;\n    }\n    return this.filterColumnPairs?.find(({ column }) => column.getId() === columnId);\n  }\n  getSelectedFilter() {\n    return this.selectedFilter;\n  }\n  getSelectedColumn() {\n    return this.selectedColumn;\n  }\n  isFilterAllowed() {\n    return !!this.selectedColumn;\n  }\n  destroy() {\n    super.destroy();\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupFilter/groupFloatingFilter.ts\nimport { AgInputTextField, AgPromise as AgPromise2, Component as Component3, RefPlaceholder as RefPlaceholder3, _clearElement as _clearElement2 } from \"@ag-grid-community/core\";\nvar GroupFloatingFilterComp = class extends Component3 {\n  constructor() {\n    super(\n      /* html */\n      `\n            <div data-ref=\"eFloatingFilter\" class=\"ag-group-floating-filter ag-floating-filter-input\" role=\"presentation\"></div>\n        `\n    );\n    this.eFloatingFilter = RefPlaceholder3;\n    this.haveAddedColumnListeners = false;\n  }\n  wireBeans(beans) {\n    this.columnNameService = beans.columnNameService;\n    this.filterManager = beans.filterManager;\n  }\n  init(params) {\n    this.params = params;\n    const canShowUnderlyingFloatingFilter = this.gos.get(\"groupDisplayType\") === \"multipleColumns\";\n    return new AgPromise2((resolve) => {\n      this.params.parentFilterInstance((parentFilterInstance) => {\n        this.parentFilterInstance = parentFilterInstance;\n        if (canShowUnderlyingFloatingFilter) {\n          this.setupUnderlyingFloatingFilterElement().then(() => resolve());\n        } else {\n          this.setupReadOnlyFloatingFilterElement();\n          resolve();\n        }\n      });\n    }).then(() => {\n      this.addManagedListeners(this.parentFilterInstance, {\n        selectedColumnChanged: this.onSelectedColumnChanged.bind(this),\n        columnRowGroupChanged: this.onColumnRowGroupChanged.bind(this)\n      });\n    });\n  }\n  onParamsUpdated(params) {\n    this.refresh(params);\n  }\n  refresh(params) {\n    this.params = params;\n    this.setParams();\n  }\n  setParams() {\n    const displayName = this.columnNameService.getDisplayNameForColumn(\n      this.params.column,\n      \"header\",\n      true\n    );\n    const translate = this.localeService.getLocaleTextFunc();\n    this.eFloatingFilterText?.setInputAriaLabel(`${displayName} ${translate(\"ariaFilterInput\", \"Filter Input\")}`);\n  }\n  setupReadOnlyFloatingFilterElement() {\n    if (!this.eFloatingFilterText) {\n      this.eFloatingFilterText = this.createManagedBean(new AgInputTextField());\n      this.eFloatingFilterText.setDisabled(true).addGuiEventListener(\"click\", () => this.params.showParentFilter());\n      this.setParams();\n    }\n    this.updateDisplayedValue();\n    this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui());\n  }\n  setupUnderlyingFloatingFilterElement() {\n    this.showingUnderlyingFloatingFilter = false;\n    this.underlyingFloatingFilter = void 0;\n    _clearElement2(this.eFloatingFilter);\n    const column = this.parentFilterInstance.getSelectedColumn();\n    if (column && !column.isVisible()) {\n      const compDetails = this.filterManager.getFloatingFilterCompDetails(column, this.params.showParentFilter);\n      if (compDetails) {\n        if (!this.haveAddedColumnListeners) {\n          this.haveAddedColumnListeners = true;\n          this.addManagedListeners(column, {\n            visibleChanged: this.onColumnVisibleChanged.bind(this),\n            colDefChanged: this.onColDefChanged.bind(this)\n          });\n        }\n        return compDetails.newAgStackInstance().then((floatingFilter) => {\n          this.underlyingFloatingFilter = floatingFilter;\n          this.underlyingFloatingFilter?.onParentModelChanged(\n            this.parentFilterInstance.getSelectedFilter()?.getModel()\n          );\n          this.appendChild(floatingFilter.getGui());\n          this.showingUnderlyingFloatingFilter = true;\n        });\n      }\n    }\n    this.setupReadOnlyFloatingFilterElement();\n    return AgPromise2.resolve();\n  }\n  onColumnVisibleChanged() {\n    this.setupUnderlyingFloatingFilterElement();\n  }\n  onColDefChanged(event) {\n    if (!event.column) {\n      return;\n    }\n    const compDetails = this.filterManager.getFloatingFilterCompDetails(\n      event.column,\n      this.params.showParentFilter\n    );\n    if (compDetails) {\n      if (this.underlyingFloatingFilter?.refresh) {\n        this.underlyingFloatingFilter.refresh(compDetails.params);\n      } else {\n        this.underlyingFloatingFilter?.onParamsUpdated?.(compDetails.params);\n      }\n    }\n  }\n  onParentModelChanged(_model, event) {\n    if (this.showingUnderlyingFloatingFilter) {\n      this.underlyingFloatingFilter?.onParentModelChanged(\n        this.parentFilterInstance.getSelectedFilter()?.getModel(),\n        event\n      );\n    } else {\n      this.updateDisplayedValue();\n    }\n  }\n  updateDisplayedValue() {\n    if (!this.parentFilterInstance || !this.eFloatingFilterText) {\n      return;\n    }\n    const selectedFilter = this.parentFilterInstance.getSelectedFilter();\n    if (!selectedFilter) {\n      this.eFloatingFilterText.setValue(\"\");\n      this.eFloatingFilterText.setDisplayed(false);\n      return;\n    }\n    this.eFloatingFilterText.setDisplayed(true);\n    if (selectedFilter.getModelAsString) {\n      const filterModel = selectedFilter.getModel();\n      this.eFloatingFilterText.setValue(filterModel == null ? \"\" : selectedFilter.getModelAsString(filterModel));\n    } else {\n      this.eFloatingFilterText.setValue(\"\");\n    }\n  }\n  onSelectedColumnChanged() {\n    if (!this.showingUnderlyingFloatingFilter) {\n      this.updateDisplayedValue();\n    }\n  }\n  onColumnRowGroupChanged() {\n    if (!this.showingUnderlyingFloatingFilter) {\n      this.updateDisplayedValue();\n    }\n  }\n  destroy() {\n    super.destroy();\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/groupStage.ts\nimport { BeanStub as BeanStub8 } from \"@ag-grid-community/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/groupStrategy/groupStrategy.ts\nimport {\n  BeanStub as BeanStub6,\n  RowNode,\n  _areEqual,\n  _exists as _exists2,\n  _existsAndNotEmpty as _existsAndNotEmpty2,\n  _removeFromArray,\n  _warnOnce as _warnOnce3\n} from \"@ag-grid-community/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/groupStrategy/batchRemover.ts\nvar BatchRemover = class {\n  constructor() {\n    this.allSets = {};\n    this.allParents = [];\n  }\n  removeFromChildrenAfterGroup(parent, child) {\n    const set = this.getSet(parent);\n    set.removeFromChildrenAfterGroup[child.id] = true;\n  }\n  isRemoveFromAllLeafChildren(parent, child) {\n    const set = this.getSet(parent);\n    return !!set.removeFromAllLeafChildren[child.id];\n  }\n  preventRemoveFromAllLeafChildren(parent, child) {\n    const set = this.getSet(parent);\n    delete set.removeFromAllLeafChildren[child.id];\n  }\n  removeFromAllLeafChildren(parent, child) {\n    const set = this.getSet(parent);\n    set.removeFromAllLeafChildren[child.id] = true;\n  }\n  getSet(parent) {\n    if (!this.allSets[parent.id]) {\n      this.allSets[parent.id] = {\n        removeFromAllLeafChildren: {},\n        removeFromChildrenAfterGroup: {}\n      };\n      this.allParents.push(parent);\n    }\n    return this.allSets[parent.id];\n  }\n  getAllParents() {\n    return this.allParents;\n  }\n  flush() {\n    this.allParents.forEach((parent) => {\n      const nodeDetails = this.allSets[parent.id];\n      parent.childrenAfterGroup = parent.childrenAfterGroup.filter(\n        (child) => !nodeDetails.removeFromChildrenAfterGroup[child.id]\n      );\n      parent.allLeafChildren = parent.allLeafChildren?.filter((child) => !nodeDetails.removeFromAllLeafChildren[child.id]) ?? null;\n      parent.updateHasChildren();\n      const sibling = parent.sibling;\n      if (sibling) {\n        sibling.childrenAfterGroup = parent.childrenAfterGroup;\n        sibling.allLeafChildren = parent.allLeafChildren;\n      }\n    });\n    this.allSets = {};\n    this.allParents.length = 0;\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/groupStrategy/sortGroupChildren.ts\nfunction sortGroupChildren(rowNodes) {\n  if (!rowNodes) {\n    return false;\n  }\n  const length = rowNodes.length;\n  if (length < 2) {\n    return false;\n  }\n  let atLeastOneOutOfOrder = false;\n  for (let i = 1; i < length; i++) {\n    if (compareGroupChildren(rowNodes[i - 1], rowNodes[i]) > 0) {\n      atLeastOneOutOfOrder = true;\n      break;\n    }\n  }\n  if (!atLeastOneOutOfOrder) {\n    return false;\n  }\n  rowNodes.sort(compareGroupChildren);\n  return true;\n}\nfunction compareGroupChildren(nodeA, nodeB) {\n  const positionA = nodeA.sourceRowIndex;\n  const positionB = nodeB.sourceRowIndex;\n  const aHasIndex = positionA >= 0;\n  const bHasIndex = positionB >= 0;\n  const bothNodesAreUserNodes = aHasIndex && bHasIndex;\n  const bothNodesAreFillerNodes = !aHasIndex && !bHasIndex;\n  if (bothNodesAreUserNodes) {\n    return positionA - positionB;\n  }\n  if (bothNodesAreFillerNodes) {\n    return nodeA.__objectId - nodeB.__objectId;\n  }\n  if (aHasIndex) {\n    return 1;\n  }\n  return -1;\n}\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/groupStrategy/groupStrategy.ts\nvar GroupStrategy = class extends BeanStub6 {\n  wireBeans(beans) {\n    this.beans = beans;\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.valueService = beans.valueService;\n    this.selectionService = beans.selectionService;\n    this.showRowGroupColsService = beans.showRowGroupColsService;\n  }\n  execute(params) {\n    const details = this.createGroupingDetails(params);\n    if (details.transactions) {\n      this.handleTransaction(details);\n    } else {\n      const afterColsChanged = params.afterColumnsChanged === true;\n      this.shotgunResetEverything(details, afterColsChanged);\n    }\n    this.positionLeafsAndGroups(params.changedPath);\n    this.orderGroups(details);\n  }\n  positionLeafsAndGroups(changedPath) {\n    changedPath.forEachChangedNodeDepthFirst((group) => {\n      if (group.childrenAfterGroup) {\n        const leafNodes = [];\n        const groupNodes = [];\n        let unbalancedNode;\n        group.childrenAfterGroup.forEach((row) => {\n          if (!row.childrenAfterGroup?.length) {\n            leafNodes.push(row);\n          } else {\n            if (row.key === \"\" && !unbalancedNode) {\n              unbalancedNode = row;\n            } else {\n              groupNodes.push(row);\n            }\n          }\n        });\n        if (unbalancedNode) {\n          groupNodes.push(unbalancedNode);\n        }\n        group.childrenAfterGroup = [...leafNodes, ...groupNodes];\n      }\n    }, false);\n  }\n  createGroupingDetails(params) {\n    const { rowNode, changedPath, rowNodeTransactions, rowNodesOrderChanged } = params;\n    const groupedCols = this.funcColsService.getRowGroupColumns();\n    const details = {\n      expandByDefault: this.gos.get(\"groupDefaultExpanded\"),\n      groupedCols,\n      rootNode: rowNode,\n      pivotMode: this.columnModel.isPivotMode(),\n      groupedColCount: groupedCols?.length ?? 0,\n      transactions: rowNodeTransactions,\n      rowNodesOrderChanged: !!rowNodesOrderChanged,\n      // if no transaction, then it's shotgun, changed path would be 'not active' at this point anyway\n      changedPath,\n      groupAllowUnbalanced: this.gos.get(\"groupAllowUnbalanced\"),\n      isGroupOpenByDefault: this.gos.getCallback(\"isGroupOpenByDefault\"),\n      initialGroupOrderComparator: this.gos.getCallback(\"initialGroupOrderComparator\"),\n      suppressGroupMaintainValueType: this.gos.get(\"suppressGroupMaintainValueType\"),\n      keyCreators: groupedCols?.map((column) => column.getColDef().keyCreator) ?? []\n    };\n    return details;\n  }\n  handleTransaction(details) {\n    details.transactions.forEach((tran) => {\n      const batchRemover = new BatchRemover();\n      if (_existsAndNotEmpty2(tran.remove)) {\n        this.removeNodes(tran.remove, details, batchRemover);\n      }\n      if (_existsAndNotEmpty2(tran.update)) {\n        this.moveNodesInWrongPath(tran.update, details, batchRemover);\n      }\n      if (_existsAndNotEmpty2(tran.add)) {\n        this.insertNodes(tran.add, details);\n      }\n      const parentsWithChildrenRemoved = batchRemover.getAllParents().slice();\n      batchRemover.flush();\n      this.removeEmptyGroups(parentsWithChildrenRemoved, details);\n    });\n    if (details.rowNodesOrderChanged) {\n      this.sortChildren(details);\n    }\n  }\n  // this is used when doing delta updates, eg Redux, keeps nodes in right order\n  sortChildren(details) {\n    details.changedPath.forEachChangedNodeDepthFirst(\n      (node) => {\n        const didSort = sortGroupChildren(node.childrenAfterGroup);\n        if (didSort) {\n          details.changedPath.addParentNode(node);\n        }\n      },\n      false,\n      true\n    );\n  }\n  orderGroups(details) {\n    const comparator = details.initialGroupOrderComparator;\n    if (_exists2(comparator)) {\n      recursiveSort(details.rootNode);\n    }\n    function recursiveSort(rowNode) {\n      const doSort = _exists2(rowNode.childrenAfterGroup) && // we only want to sort groups, so we do not sort leafs (a leaf group has leafs as children)\n      !rowNode.leafGroup;\n      if (doSort) {\n        rowNode.childrenAfterGroup.sort((nodeA, nodeB) => comparator({ nodeA, nodeB }));\n        rowNode.childrenAfterGroup.forEach((childNode) => recursiveSort(childNode));\n      }\n    }\n  }\n  getExistingPathForNode(node, details) {\n    const res = [];\n    let pointer = node.parent;\n    while (pointer && pointer !== details.rootNode) {\n      res.push({\n        key: pointer.key,\n        rowGroupColumn: pointer.rowGroupColumn,\n        field: pointer.field\n      });\n      pointer = pointer.parent;\n    }\n    res.reverse();\n    return res;\n  }\n  moveNodesInWrongPath(childNodes, details, batchRemover) {\n    childNodes.forEach((childNode) => {\n      if (details.changedPath.isActive()) {\n        details.changedPath.addParentNode(childNode.parent);\n      }\n      const infoToKeyMapper = (item) => item.key;\n      const oldPath = this.getExistingPathForNode(childNode, details).map(infoToKeyMapper);\n      const newPath = this.getGroupInfo(childNode, details).map(infoToKeyMapper);\n      const nodeInCorrectPath = _areEqual(oldPath, newPath);\n      if (!nodeInCorrectPath) {\n        this.moveNode(childNode, details, batchRemover);\n      }\n    });\n  }\n  moveNode(childNode, details, batchRemover) {\n    this.removeNodesFromParents([childNode], details, batchRemover);\n    this.insertOneNode(childNode, details, batchRemover);\n    childNode.setData(childNode.data);\n    if (details.changedPath.isActive()) {\n      const newParent = childNode.parent;\n      details.changedPath.addParentNode(newParent);\n    }\n  }\n  removeNodes(leafRowNodes, details, batchRemover) {\n    this.removeNodesFromParents(leafRowNodes, details, batchRemover);\n    if (details.changedPath.isActive()) {\n      leafRowNodes.forEach((rowNode) => details.changedPath.addParentNode(rowNode.parent));\n    }\n  }\n  forEachParentGroup(details, group, callback) {\n    let pointer = group;\n    while (pointer && pointer !== details.rootNode) {\n      callback(pointer);\n      pointer = pointer.parent;\n    }\n  }\n  removeNodesFromParents(nodesToRemove, details, provided) {\n    const batchRemoverIsLocal = provided == null;\n    const batchRemoverToUse = provided ? provided : new BatchRemover();\n    nodesToRemove.forEach((nodeToRemove) => {\n      this.removeFromParent(nodeToRemove, batchRemoverToUse);\n      this.forEachParentGroup(details, nodeToRemove.parent, (parentNode) => {\n        batchRemoverToUse.removeFromAllLeafChildren(parentNode, nodeToRemove);\n      });\n    });\n    if (batchRemoverIsLocal) {\n      batchRemoverToUse.flush();\n    }\n  }\n  removeEmptyGroups(possibleEmptyGroups, details) {\n    let checkAgain = true;\n    const groupShouldBeRemoved = (rowNode) => {\n      const mapKey = this.getChildrenMappedKey(rowNode.key, rowNode.rowGroupColumn);\n      const parentRowNode = rowNode.parent;\n      const groupAlreadyRemoved = parentRowNode?.childrenMapped ? !parentRowNode.childrenMapped[mapKey] : true;\n      if (groupAlreadyRemoved) {\n        return false;\n      }\n      return !!rowNode.group && (rowNode.childrenAfterGroup?.length ?? 0) === 0;\n    };\n    while (checkAgain) {\n      checkAgain = false;\n      const batchRemover = new BatchRemover();\n      possibleEmptyGroups.forEach((possibleEmptyGroup) => {\n        this.forEachParentGroup(details, possibleEmptyGroup, (rowNode) => {\n          if (groupShouldBeRemoved(rowNode)) {\n            checkAgain = true;\n            this.removeFromParent(rowNode, batchRemover);\n            rowNode.setSelectedParams({ newValue: false, source: \"rowGroupChanged\" });\n          }\n        });\n      });\n      batchRemover.flush();\n    }\n  }\n  // removes the node from the parent by:\n  // a) removing from childrenAfterGroup (using batchRemover if present, otherwise immediately)\n  // b) removing from childrenMapped (immediately)\n  // c) setRowTop(null) - as the rowRenderer uses this to know the RowNode is no longer needed\n  // d) setRowIndex(null) - as the rowNode will no longer be displayed.\n  removeFromParent(child, batchRemover) {\n    if (child.parent) {\n      if (batchRemover) {\n        batchRemover.removeFromChildrenAfterGroup(child.parent, child);\n      } else {\n        _removeFromArray(child.parent.childrenAfterGroup, child);\n        child.parent.updateHasChildren();\n      }\n    }\n    const mapKey = this.getChildrenMappedKey(child.key, child.rowGroupColumn);\n    if (child.parent?.childrenMapped) {\n      delete child.parent.childrenMapped[mapKey];\n    }\n    child.setRowTop(null);\n    child.setRowIndex(null);\n  }\n  /**\n   * This is idempotent, but relies on the `key` field being the same throughout a RowNode's lifetime\n   */\n  addToParent(child, parent) {\n    const mapKey = this.getChildrenMappedKey(child.key, child.rowGroupColumn);\n    if (parent?.childrenMapped) {\n      if (parent.childrenMapped[mapKey] !== child) {\n        parent.childrenMapped[mapKey] = child;\n        parent.childrenAfterGroup.push(child);\n        parent.setGroup(true);\n      }\n    }\n  }\n  areGroupColsEqual(d1, d2) {\n    if (d1 == null || d2 == null || d1.pivotMode !== d2.pivotMode) {\n      return false;\n    }\n    return _areEqual(d1.groupedCols, d2.groupedCols) && _areEqual(d1.keyCreators, d2.keyCreators);\n  }\n  checkAllGroupDataAfterColsChanged(details) {\n    const recurse = (rowNodes) => {\n      if (!rowNodes) {\n        return;\n      }\n      rowNodes.forEach((rowNode) => {\n        const isLeafNode = !rowNode.group;\n        if (isLeafNode) {\n          return;\n        }\n        const groupInfo = {\n          field: rowNode.field,\n          key: rowNode.key,\n          rowGroupColumn: rowNode.rowGroupColumn,\n          leafNode: rowNode.allLeafChildren?.[0]\n        };\n        this.setGroupData(rowNode, groupInfo, details);\n        recurse(rowNode.childrenAfterGroup);\n      });\n    };\n    recurse(details.rootNode.childrenAfterGroup);\n  }\n  shotgunResetEverything(details, afterColumnsChanged) {\n    if (this.noChangeInGroupingColumns(details, afterColumnsChanged)) {\n      return;\n    }\n    this.selectionService.filterFromSelection((node) => node && !node.group);\n    const { groupedCols } = details;\n    const rootNode = details.rootNode;\n    rootNode.leafGroup = groupedCols.length === 0;\n    rootNode.childrenAfterGroup = [];\n    rootNode.childrenMapped = {};\n    rootNode.updateHasChildren();\n    const sibling = rootNode.sibling;\n    if (sibling) {\n      sibling.childrenAfterGroup = rootNode.childrenAfterGroup;\n      sibling.childrenMapped = rootNode.childrenMapped;\n    }\n    this.insertNodes(rootNode.allLeafChildren, details);\n  }\n  noChangeInGroupingColumns(details, afterColumnsChanged) {\n    let noFurtherProcessingNeeded = false;\n    const groupDisplayColumns = this.showRowGroupColsService.getShowRowGroupCols();\n    const newGroupDisplayColIds = groupDisplayColumns ? groupDisplayColumns.map((c) => c.getId()).join(\"-\") : \"\";\n    if (afterColumnsChanged) {\n      noFurtherProcessingNeeded = this.areGroupColsEqual(details, this.oldGroupingDetails);\n      if (this.oldGroupDisplayColIds !== newGroupDisplayColIds) {\n        this.checkAllGroupDataAfterColsChanged(details);\n      }\n    }\n    this.oldGroupingDetails = details;\n    this.oldGroupDisplayColIds = newGroupDisplayColIds;\n    return noFurtherProcessingNeeded;\n  }\n  insertNodes(newRowNodes, details) {\n    newRowNodes.forEach((rowNode) => {\n      this.insertOneNode(rowNode, details);\n      if (details.changedPath.isActive()) {\n        details.changedPath.addParentNode(rowNode.parent);\n      }\n    });\n  }\n  insertOneNode(childNode, details, batchRemover) {\n    const path = this.getGroupInfo(childNode, details);\n    const parentGroup = this.findParentForNode(childNode, path, details, batchRemover);\n    if (!parentGroup.group) {\n      _warnOnce3(`duplicate group keys for row data, keys should be unique`, [parentGroup.data, childNode.data]);\n    }\n    childNode.parent = parentGroup;\n    childNode.level = path.length;\n    parentGroup.childrenAfterGroup.push(childNode);\n    parentGroup.updateHasChildren();\n  }\n  findParentForNode(childNode, path, details, batchRemover) {\n    let nextNode = details.rootNode;\n    path.forEach((groupInfo, level) => {\n      nextNode = this.getOrCreateNextNode(nextNode, groupInfo, level, details);\n      if (!batchRemover?.isRemoveFromAllLeafChildren(nextNode, childNode)) {\n        nextNode.allLeafChildren.push(childNode);\n      } else {\n        batchRemover?.preventRemoveFromAllLeafChildren(nextNode, childNode);\n      }\n    });\n    return nextNode;\n  }\n  getOrCreateNextNode(parentGroup, groupInfo, level, details) {\n    const key = this.getChildrenMappedKey(groupInfo.key, groupInfo.rowGroupColumn);\n    let nextNode = parentGroup?.childrenMapped?.[key];\n    if (!nextNode) {\n      nextNode = this.createGroup(groupInfo, parentGroup, level, details);\n      this.addToParent(nextNode, parentGroup);\n    }\n    return nextNode;\n  }\n  createGroup(groupInfo, parent, level, details) {\n    const groupNode = new RowNode(this.beans);\n    groupNode.group = true;\n    groupNode.field = groupInfo.field;\n    groupNode.rowGroupColumn = groupInfo.rowGroupColumn;\n    this.setGroupData(groupNode, groupInfo, details);\n    groupNode.key = groupInfo.key;\n    groupNode.id = this.createGroupId(groupNode, parent, level);\n    groupNode.level = level;\n    groupNode.leafGroup = level === details.groupedColCount - 1;\n    groupNode.allLeafChildren = [];\n    groupNode.setAllChildrenCount(0);\n    groupNode.rowGroupIndex = level;\n    groupNode.childrenAfterGroup = [];\n    groupNode.childrenMapped = {};\n    groupNode.updateHasChildren();\n    groupNode.parent = parent;\n    this.setExpandedInitialValue(details, groupNode);\n    return groupNode;\n  }\n  createGroupId(node, parent, level) {\n    const createGroupId = (node2, parent2) => {\n      if (!node2.rowGroupColumn) {\n        return null;\n      }\n      const parentId = parent2 ? createGroupId(parent2, parent2.parent, 0) : null;\n      return `${parentId == null ? \"\" : parentId + \"-\"}${node2.rowGroupColumn.getColId()}-${node2.key}`;\n    };\n    return RowNode.ID_PREFIX_ROW_GROUP + createGroupId(node, parent, level);\n  }\n  setGroupData(groupNode, groupInfo, details) {\n    groupNode.groupData = {};\n    const groupDisplayCols = this.showRowGroupColsService.getShowRowGroupCols();\n    groupDisplayCols.forEach((col) => {\n      const groupColumn = groupNode.rowGroupColumn;\n      const isRowGroupDisplayed = groupColumn !== null && col.isRowGroupDisplayed(groupColumn.getId());\n      if (isRowGroupDisplayed) {\n        if (details.suppressGroupMaintainValueType) {\n          groupNode.groupData[col.getColId()] = groupInfo.key;\n        } else {\n          groupNode.groupData[col.getColId()] = this.valueService.getValue(groupColumn, groupInfo.leafNode);\n        }\n      }\n    });\n  }\n  getChildrenMappedKey(key, rowGroupColumn) {\n    return rowGroupColumn ? rowGroupColumn.getId() + \"-\" + key : key;\n  }\n  setExpandedInitialValue(details, groupNode) {\n    if (details.pivotMode && groupNode.leafGroup) {\n      groupNode.expanded = false;\n      return;\n    }\n    const userCallback = details.isGroupOpenByDefault;\n    if (userCallback) {\n      const params = {\n        rowNode: groupNode,\n        field: groupNode.field,\n        key: groupNode.key,\n        level: groupNode.level,\n        rowGroupColumn: groupNode.rowGroupColumn\n      };\n      groupNode.expanded = userCallback(params) == true;\n      return;\n    }\n    if (details.expandByDefault === -1) {\n      groupNode.expanded = true;\n      return;\n    }\n    groupNode.expanded = groupNode.level < details.expandByDefault;\n  }\n  getGroupInfo(rowNode, details) {\n    const res = [];\n    details.groupedCols.forEach((groupCol) => {\n      let key = this.valueService.getKeyForNode(groupCol, rowNode);\n      let keyExists = key !== null && key !== void 0 && key !== \"\";\n      const createGroupForEmpty = details.pivotMode || !details.groupAllowUnbalanced;\n      if (createGroupForEmpty && !keyExists) {\n        key = \"\";\n        keyExists = true;\n      }\n      if (keyExists) {\n        const item = {\n          key,\n          field: groupCol.getColDef().field,\n          rowGroupColumn: groupCol,\n          leafNode: rowNode\n        };\n        res.push(item);\n      }\n    });\n    return res;\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/treeStrategy/treeStrategy.ts\nimport { BeanStub as BeanStub7, _warnOnce as _warnOnce4 } from \"@ag-grid-community/core\";\nimport { RowNode as RowNode2 } from \"@ag-grid-community/core\";\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/treeStrategy/treeNode.ts\nvar treeNodePositionComparer = (a, b) => a.treeNode.oldSourceRowIndex - b.treeNode.oldSourceRowIndex;\nvar EMPTY_ARRAY = Object.freeze([]);\nvar EMPTY_CHILDREN = EMPTY_ARRAY.values();\nvar orphanRow = (row, root) => {\n  row.parent = null;\n  row.treeNode = null;\n  if (root) {\n    row.childrenAfterGroup = [];\n  } else {\n    row.level = 0;\n    row.childrenAfterGroup = null;\n    row.allLeafChildren = null;\n  }\n};\nvar TreeNode = class _TreeNode {\n  constructor(parent, key, level) {\n    this.parent = parent;\n    this.key = key;\n    this.level = level;\n    /** Contains all the children by their key */\n    this.children = null;\n    /**\n     * The head of the singly linked list of direct children nodes that are invalidated and need to be committed.\n     * We use this so we can invalidate just the path and explore only the invalidated during commit.\n     * Also, once a path is invalidated the next invalidation will not add the same node again and stop the recursion quickly.\n     */\n    this.invalidatedHead = null;\n    /**\n     * The next node in the linked list of parent.invalidatedHead.\n     * - undefined: the node is not invalidated (not present in the parent linked list)\n     * - null: this is the first and last node in the linked list\n     * - TreeNode instance: is the next node in the linked list\n     */\n    this.invalidatedNext = void 0;\n    /** The RowNode associated to this tree node */\n    this.row = null;\n    /** We use this during commit to understand if the row changed. After commit, it will be the same as this.row. */\n    this.oldRow = null;\n    /**\n     * There may be duplicate rows if they have the same key.\n     * This is NOT an edge case, temporarily duplicates may arise during transactions.\n     * For example, think about swapping the paths of two nodes, they will have the same key for a short while.\n     */\n    this.duplicateRows = null;\n    /** We keep the row.childrenAfterGroup here, we just swap arrays when we assign rows */\n    this.childrenAfterGroup = EMPTY_ARRAY;\n    /**\n     * We keep the row.allLeafChildren here, we just swap arrays when we assign or swap the row to this node.\n     * If this is null, we are borrowing the allLeafChildren array from one of the children,\n     * in this case the row.allLeafChildren will be the same as one of the childrenAfterGroup[x].allLeafChildren,\n     * to get the allLeafChildren if is null, do node.allLeafChildren ?? node.row.allLeafChildren.\n     */\n    this.allLeafChildren = EMPTY_ARRAY;\n    /** Indicates whether childrenAfterGroup might need to be recomputed and sorted. Reset during commit. */\n    this.childrenChanged = false;\n    /** Indicates whether allLeafChildren should be recomputed. Reset to false during commit. */\n    this.leafChildrenChanged = false;\n    /** The ordering this node had in the previous commit. */\n    this.oldSourceRowIndex = -1;\n  }\n  isEmptyFillerNode() {\n    return !this.row?.data && !this.children?.size;\n  }\n  /** Returns true if this tree node has children */\n  hasChildren() {\n    return !!this.children?.size;\n  }\n  /** Returns an iterator able to iterate all children in this node, in order of insertion */\n  enumChildren() {\n    return this.children?.values() ?? EMPTY_CHILDREN;\n  }\n  /**\n   * Gets a node a key in the given parent. If the node does not exists, creates a filler node, with null row.\n   * We cast to string just to be sure the user passed a string correctly and not a number or something else.\n   * @returns the node at the given key, or a new filler node inserted there if it does not exist.\n   */\n  upsertKey(key) {\n    if (typeof key !== \"string\") {\n      key = String(key);\n    }\n    let node = this.children?.get(key);\n    if (!node) {\n      node = new _TreeNode(this, key, this.level + 1);\n      (this.children ?? (this.children = /* @__PURE__ */ new Map()))?.set(node.key, node);\n    }\n    return node;\n  }\n  /** Removes this node from the parent, and free memory. This node cannot be used after this. */\n  destroy() {\n    const { row, parent } = this;\n    if (parent === null) {\n      return;\n    }\n    parent?.children?.delete(this.key);\n    if (row !== null) {\n      orphanRow(row, true);\n    }\n    this.parent = null;\n  }\n  /**\n   * Sets the row for the TreeNode.\n   * If the row is already set, it will be replaced with the new row, and the old row will be orphaned.\n   * childrenAfterGroup and allLeafChildren will be reassigned.\n   * @returns True if the row changed\n   */\n  setRow(newRow) {\n    const { level, row: oldRow, childrenAfterGroup } = this;\n    if (level < 0) {\n      if (oldRow !== null && oldRow !== newRow) {\n        orphanRow(oldRow, true);\n      }\n    } else {\n      if (oldRow === newRow) {\n        return false;\n      }\n      if (oldRow !== null) {\n        newRow.allLeafChildren = oldRow.allLeafChildren ?? this.allLeafChildren ?? EMPTY_ARRAY;\n        orphanRow(oldRow, false);\n      } else {\n        newRow.allLeafChildren = this.allLeafChildren ?? EMPTY_ARRAY;\n      }\n    }\n    newRow.level = level;\n    newRow.childrenAfterGroup = childrenAfterGroup;\n    newRow.treeNode = this;\n    this.row = newRow;\n    return true;\n  }\n  /**\n   * Removes a row from the tree node.\n   * If the row is the main row, it will be replaced with the first row in the duplicate rows, if any.\n   * If the row is a duplicate row, it will be removed from the duplicate rows.\n   * @param rowToRemove - The row to be removed.\n   * @returns `true` if the row was successfully removed, `false` if the row was not found.\n   */\n  removeRow(rowToRemove) {\n    const { level, row, duplicateRows, childrenAfterGroup } = this;\n    if (row === rowToRemove) {\n      const duplicate = this.popDuplicateRow();\n      if (duplicate) {\n        this.row = duplicate;\n        duplicate.childrenAfterGroup = childrenAfterGroup;\n        if (level >= 0) {\n          duplicate.allLeafChildren = row.allLeafChildren ?? this.allLeafChildren ?? EMPTY_ARRAY;\n        }\n      } else {\n        this.row = null;\n      }\n    } else {\n      if (!duplicateRows?.delete(rowToRemove)) {\n        return false;\n      }\n      if (duplicateRows.size === 0) {\n        this.duplicateRows = null;\n      }\n    }\n    orphanRow(rowToRemove, level < 0);\n    return true;\n  }\n  /**\n   * Adds a duplicate row to the tree node.\n   * @param newRow - The new row to be added.\n   * @returns A boolean indicating whether the row was successfully added.\n   */\n  addDuplicateRow(newRow) {\n    const { level } = this;\n    let duplicateRows = this.duplicateRows;\n    if (duplicateRows === null) {\n      duplicateRows = /* @__PURE__ */ new Set();\n      this.duplicateRows = duplicateRows;\n    } else if (duplicateRows.has(newRow)) {\n      return false;\n    }\n    duplicateRows.add(newRow);\n    newRow.treeNode = this;\n    newRow.level = level;\n    if (level >= 0) {\n      newRow.allLeafChildren = EMPTY_ARRAY;\n    }\n    newRow.childrenAfterGroup = EMPTY_ARRAY;\n    return true;\n  }\n  /**\n   * This is needed to be sure that the row is the duplicate row with the smallest sourceRowIndex, in O(n).\n   * @returns this.row\n   */\n  sortFirstDuplicateRow() {\n    const duplicateRows = this.duplicateRows;\n    const oldRow = this.row;\n    if (!oldRow || !duplicateRows) {\n      return oldRow;\n    }\n    let newRow = oldRow;\n    for (const row of duplicateRows) {\n      if (row.sourceRowIndex < newRow.sourceRowIndex) {\n        newRow = row;\n      }\n    }\n    if (newRow !== oldRow) {\n      newRow.childrenAfterGroup = this.childrenAfterGroup;\n      newRow.allLeafChildren = oldRow.allLeafChildren ?? this.allLeafChildren ?? EMPTY_ARRAY;\n      oldRow.childrenAfterGroup = EMPTY_ARRAY;\n      oldRow.allLeafChildren = EMPTY_ARRAY;\n      duplicateRows.delete(newRow);\n      duplicateRows.add(oldRow);\n      this.row = newRow;\n    }\n    return newRow;\n  }\n  /** Pops the first duplicate row from the list of duplicates */\n  popDuplicateRow() {\n    let result = null;\n    const duplicateRows = this.duplicateRows;\n    if (duplicateRows !== null) {\n      result = duplicateRows.values().next().value;\n      if (result !== null && duplicateRows.delete(result) && duplicateRows.size === 0) {\n        this.duplicateRows = null;\n      }\n    }\n    return result;\n  }\n  /**\n   * Dequeues the next child invalidated node to be committed. Order is not deterministic.\n   * @returns the next child node to be committed, or null if all children were already dequeued.\n   */\n  dequeueInvalidated() {\n    const node = this.invalidatedHead;\n    if (node !== null) {\n      this.invalidatedHead = node.invalidatedNext ?? null;\n      node.invalidatedNext = void 0;\n    }\n    return node;\n  }\n  /**\n   * Invalidates this node and all its parents until the root is reached.\n   * Order of invalidated nodes is not deterministic.\n   * The root itself cannot be invalidated, as it has no parents.\n   * If a node is already invalidated, it will stop the recursion.\n   */\n  invalidate() {\n    let node = this;\n    let parent = this.parent;\n    while (parent !== null && node.invalidatedNext === void 0) {\n      node.invalidatedNext = parent.invalidatedHead;\n      parent.invalidatedHead = node;\n      node = parent;\n      parent = node.parent;\n    }\n  }\n  /** Marks childrenChanged in the parent, so the childrenAfterGroup will be recomputed and invalidates the parent. */\n  invalidateOrder() {\n    const parent = this.parent;\n    if (parent !== null && !parent.childrenChanged && ((this.children?.size ?? 0) > 1 || !parent.row?.data)) {\n      parent.childrenChanged = true;\n      parent.invalidate();\n    }\n  }\n  /**\n   * When we receive rowNodeOrder not undefined, we need to update the rowPosition of the node,\n   * to ensure it will be sorted in the right order in childrenAfterGroup.\n   * This function makes sense to be called only in the post-order commit DFS\n   * as it assumes children's childrenAfterGroup is already updated.\n   * @returns the rowPosition the node should have.\n   */\n  getRowPosition() {\n    const row = this.row;\n    if (row?.data) {\n      return row.sourceRowIndex;\n    }\n    return this.childrenAfterGroup[0]?.treeNode?.oldSourceRowIndex ?? this.oldSourceRowIndex;\n  }\n  /**\n   * This is called in post order during commit to update the childrenAfterGroup array.\n   * It uses the rowNodeOrder map to sort the children in the right order, if is passed.\n   * It assumes all children childrenAfterGroup are up to date and rows all created.\n   *\n   * It replaces the array with EMPTY_ARRAY if there are no children, to reduce memory usage and GC pressure.\n   * It does sort the children only if strictly needed, to avoid unnecessary work.\n   *\n   * If the order changes, also the order in the children map will be updated,\n   * so the next call to enumChildren() will return the children in the right order.\n   */\n  updateChildrenAfterGroup() {\n    this.childrenChanged = false;\n    const childrenCount = this.children?.size ?? 0;\n    if (childrenCount === 0) {\n      if (this.childrenAfterGroup.length === 0) {\n        return false;\n      }\n      this.leafChildrenChanged = true;\n      this.childrenAfterGroup = EMPTY_ARRAY;\n      this.row.childrenAfterGroup = EMPTY_ARRAY;\n      return true;\n    }\n    let nodesChanged = false;\n    let childrenAfterGroup = this.childrenAfterGroup;\n    if (childrenAfterGroup === EMPTY_ARRAY) {\n      childrenAfterGroup = new Array(childrenCount);\n      this.childrenAfterGroup = childrenAfterGroup;\n      this.row.childrenAfterGroup = childrenAfterGroup;\n      nodesChanged = true;\n    } else if (childrenAfterGroup.length !== childrenCount) {\n      childrenAfterGroup.length = childrenCount;\n      nodesChanged = true;\n    }\n    let index = 0;\n    let prevPosition = -1;\n    let needSort = false;\n    for (const child of this.enumChildren()) {\n      const nextPosition = child.getRowPosition();\n      if (nextPosition < prevPosition) {\n        needSort = true;\n      }\n      prevPosition = nextPosition;\n      child.oldSourceRowIndex = nextPosition;\n      const row = child.row;\n      if (childrenAfterGroup[index] !== row) {\n        childrenAfterGroup[index] = row;\n        nodesChanged = true;\n      }\n      ++index;\n    }\n    if (nodesChanged) {\n      this.leafChildrenChanged = true;\n    }\n    if (needSort) {\n      this.reorderChildrenList(childrenAfterGroup);\n    }\n    return nodesChanged || needSort;\n  }\n  /** This reorders the given array and rebuild the children map. */\n  reorderChildrenList(childrenAfterGroup) {\n    const childrenCount = childrenAfterGroup.length;\n    const children = this.children;\n    childrenAfterGroup.sort(treeNodePositionComparer);\n    children.clear();\n    for (let i = 0; i < childrenCount; ++i) {\n      const node = childrenAfterGroup[i].treeNode;\n      children.set(node.key, node);\n    }\n  }\n  /**\n   * Rebuild the allLeafChildren rows array of a node. It uses childrenAfterGroup, we assume to be already updated.\n   * This is called in post order during commit, after the childrenAfterGroup are updated with updateChildrenAfterGroup().\n   * It uses the childrenAfterGroup and allLeafChildren of all the children, we assume they are updated.\n   */\n  updateAllLeafChildren() {\n    const { parent, row, childrenAfterGroup } = this;\n    this.leafChildrenChanged = false;\n    let nodesChanged = false;\n    const childrenAfterGroupLen = childrenAfterGroup.length;\n    if (childrenAfterGroupLen === 0) {\n      nodesChanged = row.allLeafChildren?.length !== 0;\n      row.allLeafChildren = EMPTY_ARRAY;\n      this.allLeafChildren = EMPTY_ARRAY;\n    } else if (childrenAfterGroupLen === 1 && childrenAfterGroup[0].allLeafChildren?.length) {\n      row.allLeafChildren = childrenAfterGroup[0].allLeafChildren;\n      this.allLeafChildren = null;\n      nodesChanged = true;\n    } else {\n      let allLeafChildren = this.allLeafChildren;\n      if (allLeafChildren === EMPTY_ARRAY || allLeafChildren === null) {\n        allLeafChildren = [];\n        this.allLeafChildren = allLeafChildren;\n      }\n      const oldAllLeafChildrenLength = allLeafChildren.length;\n      let writeIdx = 0;\n      for (let i = 0; i < childrenAfterGroupLen; ++i) {\n        const childRow = childrenAfterGroup[i];\n        const childAllLeafChildren = childRow.allLeafChildren;\n        const childAllLeafChildrenLen = childAllLeafChildren.length;\n        if (childAllLeafChildrenLen) {\n          for (let j = 0; j < childAllLeafChildrenLen; ++j) {\n            const leaf = childAllLeafChildren[j];\n            if (writeIdx >= oldAllLeafChildrenLength || allLeafChildren[writeIdx] !== leaf) {\n              allLeafChildren[writeIdx] = leaf;\n              nodesChanged = true;\n            }\n            ++writeIdx;\n          }\n        } else {\n          if ((writeIdx >= oldAllLeafChildrenLength || allLeafChildren[writeIdx] !== childRow) && childRow) {\n            allLeafChildren[writeIdx] = childRow;\n            nodesChanged = true;\n          }\n          ++writeIdx;\n        }\n      }\n      if (oldAllLeafChildrenLength !== writeIdx) {\n        allLeafChildren.length = writeIdx;\n        nodesChanged = true;\n      }\n      if (row.allLeafChildren !== allLeafChildren) {\n        row.allLeafChildren = allLeafChildren;\n        nodesChanged = true;\n      }\n    }\n    if (nodesChanged && parent) {\n      parent.leafChildrenChanged = true;\n    }\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/treeStrategy/treeRow.ts\nvar isTreeRowCommitted = (row) => (row.treeNodeFlags & 1 /* Committed */) !== 0;\nvar isTreeRowExpandedInitialized = (row) => (row.treeNodeFlags & 2 /* ExpandedInitialized */) !== 0;\nvar isTreeRowUpdated = (row) => (row.treeNodeFlags & 4 /* RowUpdated */) !== 0;\nvar isTreeRowKeyChanged = (row) => (row.treeNodeFlags & 8 /* KeyChanged */) !== 0;\nvar isTreeRowPathChanged = (row) => (row.treeNodeFlags & 16 /* PathChanged */) !== 0;\nvar setTreeRowExpandedInitialized = (row, value) => {\n  if (value) {\n    row.treeNodeFlags |= 2 /* ExpandedInitialized */;\n  } else {\n    row.treeNodeFlags &= ~2 /* ExpandedInitialized */;\n  }\n};\nvar setTreeRowUpdated = (row) => {\n  const flags = row.treeNodeFlags;\n  if ((flags & 1 /* Committed */) !== 0) {\n    row.treeNodeFlags = flags | 4 /* RowUpdated */;\n  }\n};\nvar setTreeRowKeyChanged = (row) => {\n  const flags = row.treeNodeFlags;\n  if ((flags & 1 /* Committed */) !== 0) {\n    row.treeNodeFlags = flags | (8 /* KeyChanged */ | 4 /* RowUpdated */);\n  }\n};\nvar markTreeRowPathChanged = (row) => {\n  row.treeNodeFlags |= 16 /* PathChanged */;\n};\nvar markTreeRowCommitted = (row) => {\n  row.treeNodeFlags = 1 /* Committed */ | row.treeNodeFlags & ~(4 /* RowUpdated */ | 8 /* KeyChanged */ | 16 /* PathChanged */);\n};\nvar clearTreeRowFlags = (row) => {\n  row.treeNodeFlags = 0;\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/treeStrategy/treeStrategy.ts\nvar TreeStrategy = class extends BeanStub7 {\n  constructor() {\n    super(...arguments);\n    /** Rows that are pending deletion, this.commitDeletedRows() will finalize removal. */\n    this.rowsPendingDestruction = null;\n    /** The root node of the tree. */\n    this.root = new TreeNode(null, \"\", -1);\n  }\n  wireBeans(beans) {\n    this.beans = beans;\n    this.showRowGroupColsService = beans.showRowGroupColsService;\n  }\n  destroy() {\n    const rootRow = this.root.row;\n    if (rootRow !== null) {\n      this.root.removeRow(rootRow);\n      clearTreeRowFlags(rootRow);\n    }\n    this.destroyTree(this.root);\n    this.commitDestroyedRows();\n    super.destroy();\n  }\n  execute(params) {\n    const { rowNodeTransactions, rowNodesOrderChanged, changedPath } = params;\n    const rootRow = params.rowNode;\n    const gos = this.gos;\n    const details = {\n      changedPath,\n      expandByDefault: gos.get(\"groupDefaultExpanded\"),\n      suppressGroupMaintainValueType: gos.get(\"suppressGroupMaintainValueType\"),\n      getDataPath: gos.get(\"getDataPath\"),\n      isGroupOpenByDefault: gos.getCallback(\"isGroupOpenByDefault\"),\n      initialGroupOrderComparator: gos.getCallback(\"initialGroupOrderComparator\")\n    };\n    const rootNode = this.root;\n    rootNode.setRow(rootRow);\n    rootRow.leafGroup = false;\n    const sibling = rootRow.sibling;\n    if (sibling) {\n      sibling.childrenAfterGroup = rootRow.childrenAfterGroup;\n      sibling.childrenMapped = rootRow.childrenMapped;\n    }\n    if (rowNodeTransactions) {\n      this.handleTransaction(details, rowNodeTransactions, rowNodesOrderChanged);\n    } else {\n      this.handleRowData(details, rootRow, params.afterColumnsChanged === true);\n    }\n  }\n  handleRowData(details, rootRow, afterColumnsChanged) {\n    const root = this.root;\n    if (afterColumnsChanged || this.oldGroupDisplayColIds === void 0) {\n      const newGroupDisplayColIds = this.showRowGroupColsService?.getShowRowGroupCols()?.map((c) => c.getId()).join(\"-\") ?? \"\";\n      if (afterColumnsChanged) {\n        if (this.oldGroupDisplayColIds !== newGroupDisplayColIds) {\n          this.checkAllGroupDataAfterColsChanged(root.row?.childrenAfterGroup);\n        }\n        return;\n      }\n      this.oldGroupDisplayColIds = newGroupDisplayColIds;\n    }\n    this.clearTree(root);\n    this.addOrUpdateRows(details, rootRow.allLeafChildren, false);\n    this.commitTree(details);\n  }\n  handleTransaction(details, transactions, rowNodesOrderChanged) {\n    for (const { remove, update, add } of transactions) {\n      this.removeRows(remove);\n      this.addOrUpdateRows(details, update, true);\n      this.addOrUpdateRows(details, add, false);\n    }\n    if (rowNodesOrderChanged) {\n      this.handleRowNodesOrderChanged();\n    }\n    this.commitTree(details);\n  }\n  handleRowNodesOrderChanged() {\n    const rows = this.root.row?.allLeafChildren;\n    if (rows) {\n      for (let rowIdx = 0, rowsLen = rows.length; rowIdx < rowsLen; ++rowIdx) {\n        const node = rows[rowIdx].treeNode;\n        if (node && node.oldSourceRowIndex !== rowIdx) {\n          node.invalidateOrder();\n        }\n      }\n    }\n  }\n  checkAllGroupDataAfterColsChanged(rowNodes) {\n    for (let i = 0, len = rowNodes?.length ?? 0; i < len; ++i) {\n      const rowNode = rowNodes[i];\n      this.setGroupData(rowNode, rowNode.treeNode?.key ?? rowNode.key);\n      this.checkAllGroupDataAfterColsChanged(rowNode.childrenAfterGroup);\n    }\n  }\n  /** Transactional add/update */\n  addOrUpdateRows(details, rows, update) {\n    for (let i = 0, len = rows?.length ?? 0; i < len; ++i) {\n      const row = rows[i];\n      const node = this.upsertPath(this.getDataPath(details, row));\n      if (node) {\n        this.addOrUpdateRow(node, row, update);\n      }\n    }\n  }\n  /** Transactional removal */\n  removeRows(rows) {\n    for (let i = 0, len = rows?.length ?? 0; i < len; ++i) {\n      const row = rows[i];\n      const node = row.treeNode;\n      if (node !== null) {\n        this.removeRow(node, row);\n      }\n    }\n  }\n  getDataPath({ getDataPath }, { data }) {\n    const keys = getDataPath?.(data) || EMPTY_ARRAY;\n    if (!keys.length) {\n      _warnOnce4(`getDataPath() should not return an empty path`, [data]);\n    }\n    return keys;\n  }\n  /**\n   * Gets the last node of a path. Inserts filler nodes where needed.\n   * Note that invalidate() is not called, is up to the caller to call it if needed.\n   */\n  upsertPath(path) {\n    let parent = this.root;\n    const stop = path.length - 1;\n    for (let level = 0; level <= stop; ++level) {\n      const node = parent.upsertKey(path[level]);\n      if (level >= stop) {\n        node.invalidate();\n        return node;\n      }\n      parent = node;\n    }\n    return null;\n  }\n  /** Add or updates the row to a non-root node, preparing the tree correctly for the commit. */\n  addOrUpdateRow(node, newRow, update) {\n    const { level, row: oldRow } = node;\n    if (level < 0) {\n      return;\n    }\n    let invalidate = false;\n    if (oldRow !== newRow) {\n      const prevNode = newRow.treeNode;\n      if (prevNode !== null && prevNode !== node) {\n        prevNode.removeRow(newRow);\n        prevNode.invalidate();\n      }\n      if (oldRow === null) {\n        node.setRow(newRow);\n        invalidate = true;\n      } else if (!oldRow.data) {\n        node.setRow(newRow);\n        this.destroyRow(oldRow, true);\n        invalidate = true;\n      } else {\n        if (node.addDuplicateRow(newRow)) {\n          invalidate = true;\n        }\n      }\n    }\n    if (update && !isTreeRowUpdated(newRow)) {\n      setTreeRowUpdated(newRow);\n      invalidate = true;\n    }\n    if (invalidate) {\n      node.invalidate();\n    }\n    this.rowsPendingDestruction?.delete(newRow);\n  }\n  /**\n   * Overwrites the row property of a non-root node to null.\n   * @returns The previous row, if any, that was overwritten.\n   */\n  removeRow(node, oldRow) {\n    const { parent, level } = node;\n    if (level < 0) {\n      return;\n    }\n    let invalidate = false;\n    if (node.removeRow(oldRow)) {\n      invalidate = true;\n      if (parent) {\n        parent.childrenChanged = true;\n      }\n      this.destroyRow(oldRow, !oldRow.data);\n    }\n    if (invalidate) {\n      node.invalidate();\n    }\n  }\n  /** Commit the changes performed to the tree */\n  commitTree(details) {\n    const root = this.root;\n    this.commitInvalidatedChildren(details, root);\n    const rootRow = root.row;\n    if (root.childrenChanged) {\n      if (root.updateChildrenAfterGroup()) {\n        markTreeRowPathChanged(rootRow);\n      }\n    }\n    rootRow.updateHasChildren();\n    if (isTreeRowPathChanged(rootRow)) {\n      if (details.changedPath?.isActive()) {\n        details.changedPath.addParentNode(rootRow);\n      }\n    }\n    markTreeRowCommitted(rootRow);\n    this.commitDestroyedRows();\n  }\n  /** Calls commitChild for each invalidated child, recursively. We commit only the invalidated paths. */\n  commitInvalidatedChildren(details, parent) {\n    while (true) {\n      const child = parent.dequeueInvalidated();\n      if (child === null) {\n        break;\n      }\n      if (child.parent === parent) {\n        this.commitChild(details, parent, child);\n      }\n    }\n  }\n  /** Commit the changes performed to a node and its children */\n  commitChild(details, parent, node) {\n    if (node.isEmptyFillerNode()) {\n      this.clearTree(node);\n      return;\n    }\n    this.commitNodePreOrder(parent, node);\n    this.commitInvalidatedChildren(details, node);\n    this.commitNodePostOrder(details, parent, node);\n  }\n  commitNodePreOrder(parent, node) {\n    let row = node.row;\n    if (row === null) {\n      row = this.createFillerRow(node);\n      node.setRow(row);\n    } else {\n      row = node.sortFirstDuplicateRow();\n      if (row.allChildrenCount === void 0) {\n        row.allChildrenCount = null;\n      }\n    }\n    row.parent = parent.row;\n    if (node.oldRow !== row) {\n      for (const child of node.enumChildren()) {\n        const childRow = child.row;\n        if (childRow !== null) {\n          childRow.parent = row;\n        }\n      }\n    }\n    const key = node.key;\n    if (row.key !== key) {\n      row.key = key;\n      setTreeRowKeyChanged(row);\n      this.setGroupData(row, key);\n    } else if (!row.groupData) {\n      this.setGroupData(row, key);\n    }\n  }\n  commitNodePostOrder(details, parent, node) {\n    const row = node.row;\n    const oldRow = node.oldRow;\n    if (node.isEmptyFillerNode()) {\n      this.clearTree(node);\n      return;\n    }\n    if (node.childrenChanged) {\n      if (node.updateChildrenAfterGroup()) {\n        markTreeRowPathChanged(row);\n      }\n    }\n    if (node.leafChildrenChanged) {\n      node.updateAllLeafChildren();\n    }\n    const newRowPosition = node.getRowPosition();\n    if (node.oldSourceRowIndex !== newRowPosition) {\n      node.oldSourceRowIndex = newRowPosition;\n      parent.childrenChanged = true;\n    }\n    const hasChildren = !!row.childrenAfterGroup?.length;\n    const group = hasChildren || !row.data;\n    const oldGroup = row.group;\n    if (oldGroup !== group) {\n      markTreeRowPathChanged(row);\n      row.setGroup(group);\n      if (!group && !row.expanded) {\n        setTreeRowExpandedInitialized(row, false);\n      }\n    } else if (row.hasChildren() !== hasChildren) {\n      markTreeRowPathChanged(row);\n      row.updateHasChildren();\n    }\n    if (row.group && !isTreeRowExpandedInitialized(row)) {\n      if (oldRow !== row && oldRow !== null && oldRow.group && isTreeRowExpandedInitialized(oldRow) && !details.isGroupOpenByDefault) {\n        row.expanded = oldRow.expanded;\n      } else {\n        row.expanded = this.getExpandedInitialValue(details, row);\n      }\n      setTreeRowExpandedInitialized(row, true);\n    }\n    if (isTreeRowUpdated(row)) {\n      markTreeRowPathChanged(parent.row);\n      if (isTreeRowKeyChanged(row)) {\n        row.setData(row.data);\n      }\n    }\n    if (oldRow !== row) {\n      node.oldRow = row;\n      if (oldRow !== null && (oldGroup || node.hasChildren())) {\n        markTreeRowPathChanged(row);\n      }\n      parent.childrenChanged = true;\n      markTreeRowPathChanged(parent.row);\n    }\n    if (isTreeRowPathChanged(row)) {\n      if (details.changedPath?.isActive()) {\n        details.changedPath.addParentNode(row);\n      }\n    } else if (!isTreeRowCommitted(row)) {\n      if (!row.childrenAfterFilter) {\n        row.childrenAfterFilter = row.childrenAfterGroup.slice();\n      }\n      if (!row.childrenAfterAggFilter) {\n        row.childrenAfterAggFilter = row.childrenAfterFilter.slice();\n      }\n      if (!row.childrenAfterSort) {\n        row.childrenAfterSort = row.childrenAfterAggFilter.slice();\n      }\n    }\n    markTreeRowCommitted(row);\n    if (node.duplicateRows?.size && !node.duplicateRowsWarned) {\n      node.duplicateRowsWarned = true;\n      _warnOnce4(`duplicate group keys for row data, keys should be unique`, [\n        row.id,\n        row.data,\n        ...Array.from(node.duplicateRows).map((r) => r.data)\n      ]);\n    }\n  }\n  createFillerRow(node) {\n    const row = new RowNode2(this.beans);\n    row.key = node.key;\n    row.group = true;\n    row.field = null;\n    row.leafGroup = false;\n    row.rowGroupIndex = null;\n    row.allChildrenCount = null;\n    let id = node.level + \"-\" + node.key;\n    let p = node.parent;\n    while (p !== null) {\n      const parent = p.parent;\n      if (parent === null) {\n        break;\n      }\n      id = `${p.level}-${p.key}-${id}`;\n      p = parent;\n    }\n    row.id = RowNode2.ID_PREFIX_ROW_GROUP + id;\n    return row;\n  }\n  setGroupData(row, key) {\n    const groupData = {};\n    row.groupData = groupData;\n    const groupDisplayCols = this.showRowGroupColsService?.getShowRowGroupCols();\n    if (groupDisplayCols) {\n      for (const col of groupDisplayCols) {\n        groupData[col.getColId()] = key;\n      }\n    }\n  }\n  getExpandedInitialValue(details, row) {\n    const userCallback = details.isGroupOpenByDefault;\n    return userCallback ? userCallback({\n      rowNode: row,\n      field: row.field,\n      key: row.key,\n      level: row.level,\n      rowGroupColumn: row.rowGroupColumn\n    }) == true : details.expandByDefault === -1 || row.level < details.expandByDefault;\n  }\n  /** Called to clear a subtree. */\n  clearTree(node) {\n    const { parent, oldRow, row, level } = node;\n    if (parent !== null && oldRow !== null) {\n      parent.childrenChanged = true;\n      if (parent.row !== null) {\n        markTreeRowPathChanged(parent.row);\n      }\n    }\n    if (row !== null) {\n      if (level >= 0) {\n        let row2 = node.row;\n        while (row2 !== null && node.removeRow(row2)) {\n          this.destroyRow(row2, !row2.data);\n          row2 = node.row;\n        }\n      }\n    }\n    for (const child of node.enumChildren()) {\n      this.clearTree(child);\n    }\n    node.destroy();\n  }\n  /** Called by the destructor, to the destroy the whole tree. */\n  destroyTree(node) {\n    const { row, level, duplicateRows } = node;\n    if (row) {\n      if (level >= 0 && !row.data) {\n        this.destroyRow(row, true);\n      } else {\n        clearTreeRowFlags(row);\n      }\n    }\n    if (duplicateRows) {\n      for (const row2 of duplicateRows) {\n        if (level >= 0 && !row2.data) {\n          this.destroyRow(row2, true);\n        } else {\n          clearTreeRowFlags(row2);\n        }\n      }\n    }\n    for (const child of node.enumChildren()) {\n      this.destroyTree(child);\n    }\n    node.destroy();\n  }\n  /**\n   * Finalizes the deletion of a row.\n   * @param immediate If true, the row is deleted immediately.\n   * If false, the row is marked for deletion, and will be deleted later with this.deleteDeletedRows()\n   */\n  destroyRow(row, immediate) {\n    if (!isTreeRowCommitted(row)) {\n      clearTreeRowFlags(row);\n      return;\n    }\n    if (!immediate) {\n      (this.rowsPendingDestruction ?? (this.rowsPendingDestruction = /* @__PURE__ */ new Set())).add(row);\n      return;\n    }\n    clearTreeRowFlags(row);\n    row.setRowIndex(null);\n    row.setRowTop(null);\n    if (!row.data && row.isSelected()) {\n      row.setSelectedParams({ newValue: false, source: \"rowGroupChanged\" });\n    }\n  }\n  /**\n   * destroyRow can defer the deletion to the end of the commit stage.\n   * This method finalizes the deletion of rows that were marked for deletion.\n   */\n  commitDestroyedRows() {\n    const { rowsPendingDestruction: rowsPendingDeletion } = this;\n    if (rowsPendingDeletion !== null) {\n      this.rowsPendingDestruction = null;\n      for (const row of rowsPendingDeletion) {\n        this.destroyRow(row, true);\n      }\n    }\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/groupStage/groupStage.ts\nvar GroupStage = class extends BeanStub8 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"groupStage\";\n  }\n  wireBeans(beans) {\n    this.selectableService = beans.selectableService;\n  }\n  execute(params) {\n    const Strategy = this.gos.get(\"treeData\") ? TreeStrategy : GroupStrategy;\n    let strategy = this.strategy;\n    if (strategy?.constructor !== Strategy) {\n      this.destroyBean(strategy);\n      strategy = this.createManagedBean(new Strategy());\n      this.strategy = strategy;\n    }\n    strategy.execute(params);\n    this.selectableService.updateSelectableAfterGrouping();\n  }\n  destroy() {\n    this.destroyBean(this.strategy);\n    this.strategy = void 0;\n    super.destroy();\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/pivotColDefService.ts\nimport { BeanStub as BeanStub9, _cloneObject, _iterateObject as _iterateObject2 } from \"@ag-grid-community/core\";\nvar PIVOT_ROW_TOTAL_PREFIX = \"PivotRowTotal_\";\nvar PivotColDefService = class extends BeanStub9 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pivotColDefService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.columnNameService = beans.columnNameService;\n  }\n  postConstruct() {\n    const getFieldSeparator = () => this.gos.get(\"serverSidePivotResultFieldSeparator\") ?? \"_\";\n    this.fieldSeparator = getFieldSeparator();\n    this.addManagedPropertyListener(\"serverSidePivotResultFieldSeparator\", () => {\n      this.fieldSeparator = getFieldSeparator();\n    });\n    const getPivotDefaultExpanded = () => this.gos.get(\"pivotDefaultExpanded\");\n    this.pivotDefaultExpanded = getPivotDefaultExpanded();\n    this.addManagedPropertyListener(\"pivotDefaultExpanded\", () => {\n      this.pivotDefaultExpanded = getPivotDefaultExpanded();\n    });\n  }\n  createPivotColumnDefs(uniqueValues) {\n    const pivotColumnGroupDefs = this.createPivotColumnsFromUniqueValues(uniqueValues);\n    function extractColDefs(input, arr = []) {\n      input.forEach((def) => {\n        if (def.children !== void 0) {\n          extractColDefs(def.children, arr);\n        } else {\n          arr.push(def);\n        }\n      });\n      return arr;\n    }\n    const pivotColumnDefs = extractColDefs(pivotColumnGroupDefs);\n    this.addRowGroupTotals(pivotColumnGroupDefs, pivotColumnDefs);\n    this.addExpandablePivotGroups(pivotColumnGroupDefs, pivotColumnDefs);\n    this.addPivotTotalsToGroups(pivotColumnGroupDefs, pivotColumnDefs);\n    const pivotColumnDefsClone = pivotColumnDefs.map((colDef) => _cloneObject(colDef));\n    return {\n      pivotColumnGroupDefs,\n      pivotColumnDefs: pivotColumnDefsClone\n    };\n  }\n  createPivotColumnsFromUniqueValues(uniqueValues) {\n    const pivotColumns = this.funcColsService.getPivotColumns();\n    const maxDepth = pivotColumns.length;\n    const pivotColumnGroupDefs = this.recursivelyBuildGroup(\n      0,\n      uniqueValues,\n      [],\n      maxDepth,\n      pivotColumns\n    );\n    return pivotColumnGroupDefs;\n  }\n  recursivelyBuildGroup(index, uniqueValue, pivotKeys, maxDepth, primaryPivotColumns) {\n    const measureColumns = this.funcColsService.getValueColumns();\n    if (index >= maxDepth) {\n      return this.buildMeasureCols(pivotKeys);\n    }\n    const primaryPivotColumnDefs = primaryPivotColumns[index].getColDef();\n    const comparator = this.headerNameComparator.bind(this, primaryPivotColumnDefs.pivotComparator);\n    if (measureColumns.length === 1 && this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\") && index === maxDepth - 1) {\n      const leafCols = [];\n      _iterateObject2(uniqueValue, (key) => {\n        const newPivotKeys = [...pivotKeys, key];\n        const colDef = this.createColDef(measureColumns[0], key, newPivotKeys);\n        colDef.columnGroupShow = \"open\";\n        leafCols.push(colDef);\n      });\n      leafCols.sort(comparator);\n      return leafCols;\n    }\n    const groups = [];\n    _iterateObject2(uniqueValue, (key, value) => {\n      const openByDefault = this.pivotDefaultExpanded === -1 || index < this.pivotDefaultExpanded;\n      const newPivotKeys = [...pivotKeys, key];\n      groups.push({\n        children: this.recursivelyBuildGroup(index + 1, value, newPivotKeys, maxDepth, primaryPivotColumns),\n        headerName: key,\n        pivotKeys: newPivotKeys,\n        columnGroupShow: \"open\",\n        openByDefault,\n        groupId: this.generateColumnGroupId(newPivotKeys)\n      });\n    });\n    groups.sort(comparator);\n    return groups;\n  }\n  buildMeasureCols(pivotKeys) {\n    const measureColumns = this.funcColsService.getValueColumns();\n    if (measureColumns.length === 0) {\n      return [this.createColDef(null, \"-\", pivotKeys)];\n    }\n    return measureColumns.map((measureCol) => {\n      const columnName = this.columnNameService.getDisplayNameForColumn(measureCol, \"header\");\n      return {\n        ...this.createColDef(measureCol, columnName, pivotKeys),\n        columnGroupShow: \"open\"\n      };\n    });\n  }\n  addExpandablePivotGroups(pivotColumnGroupDefs, pivotColumnDefs) {\n    const isSuppressExpand = this.gos.get(\"suppressExpandablePivotGroups\");\n    if (isSuppressExpand || this.gos.get(\"pivotColumnGroupTotals\")) {\n      return;\n    }\n    const recursivelyAddSubTotals = (def, currentPivotColumnDefs, acc) => {\n      if (\"children\" in def) {\n        const childAcc = /* @__PURE__ */ new Map();\n        def.children.forEach((grp) => {\n          recursivelyAddSubTotals(grp, currentPivotColumnDefs, childAcc);\n        });\n        const valueCols = this.funcColsService.getValueColumns();\n        const leafGroup = !def.children.some((child) => child.children);\n        const hasCollapsedLeafGroup = leafGroup && valueCols.length === 1 && this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");\n        valueCols.forEach((valueColumn) => {\n          const columnName = this.columnNameService.getDisplayNameForColumn(\n            valueColumn,\n            \"header\"\n          );\n          const totalColDef = this.createColDef(valueColumn, columnName, def.pivotKeys);\n          totalColDef.pivotTotalColumnIds = childAcc.get(valueColumn.getColId());\n          totalColDef.columnGroupShow = !isSuppressExpand ? \"closed\" : \"open\";\n          totalColDef.aggFunc = valueColumn.getAggFunc();\n          if (!leafGroup || hasCollapsedLeafGroup) {\n            const children = def.children;\n            children.push(totalColDef);\n            currentPivotColumnDefs.push(totalColDef);\n          }\n        });\n        this.merge(acc, childAcc);\n        return;\n      }\n      if (!def.pivotValueColumn) {\n        return;\n      }\n      const pivotValueColId = def.pivotValueColumn.getColId();\n      const exists = acc.has(pivotValueColId);\n      if (exists) {\n        const arr = acc.get(pivotValueColId);\n        arr.push(def.colId);\n      } else {\n        acc.set(pivotValueColId, [def.colId]);\n      }\n    };\n    pivotColumnGroupDefs.forEach((groupDef) => {\n      recursivelyAddSubTotals(groupDef, pivotColumnDefs, /* @__PURE__ */ new Map());\n    });\n  }\n  addPivotTotalsToGroups(pivotColumnGroupDefs, pivotColumnDefs) {\n    if (!this.gos.get(\"pivotColumnGroupTotals\")) {\n      return;\n    }\n    const insertAfter = this.gos.get(\"pivotColumnGroupTotals\") === \"after\";\n    const valueCols = this.funcColsService.getValueColumns();\n    const aggFuncs = valueCols.map((valueCol) => valueCol.getAggFunc());\n    if (!aggFuncs || aggFuncs.length < 1 || !this.sameAggFuncs(aggFuncs)) {\n      return;\n    }\n    const valueColumn = valueCols[0];\n    pivotColumnGroupDefs.forEach((groupDef) => {\n      this.recursivelyAddPivotTotal(groupDef, pivotColumnDefs, valueColumn, insertAfter);\n    });\n  }\n  recursivelyAddPivotTotal(groupDef, pivotColumnDefs, valueColumn, insertAfter) {\n    const group = groupDef;\n    if (!group.children) {\n      const def = groupDef;\n      return def.colId ? [def.colId] : null;\n    }\n    let colIds = [];\n    group.children.forEach((grp) => {\n      const childColIds = this.recursivelyAddPivotTotal(grp, pivotColumnDefs, valueColumn, insertAfter);\n      if (childColIds) {\n        colIds = colIds.concat(childColIds);\n      }\n    });\n    if (group.children.length > 1) {\n      const localeTextFunc = this.localeService.getLocaleTextFunc();\n      const headerName = localeTextFunc(\"pivotColumnGroupTotals\", \"Total\");\n      const totalColDef = this.createColDef(valueColumn, headerName, groupDef.pivotKeys, true);\n      totalColDef.pivotTotalColumnIds = colIds;\n      totalColDef.aggFunc = valueColumn.getAggFunc();\n      totalColDef.columnGroupShow = this.gos.get(\"suppressExpandablePivotGroups\") ? \"open\" : void 0;\n      const children = groupDef.children;\n      insertAfter ? children.push(totalColDef) : children.unshift(totalColDef);\n      pivotColumnDefs.push(totalColDef);\n    }\n    return colIds;\n  }\n  addRowGroupTotals(pivotColumnGroupDefs, pivotColumnDefs) {\n    if (!this.gos.get(\"pivotRowTotals\")) {\n      return;\n    }\n    const insertAtEnd = this.gos.get(\"pivotRowTotals\") === \"after\";\n    const valueColumns = this.funcColsService.getValueColumns();\n    const valueCols = valueColumns.slice();\n    if (!insertAtEnd) {\n      valueCols.reverse();\n    }\n    const isCreateTotalGroups = valueCols.length > 1 || !this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");\n    for (let i = 0; i < valueCols.length; i++) {\n      const valueCol = valueCols[i];\n      const columnName = this.columnNameService.getDisplayNameForColumn(valueCol, \"header\");\n      const colDef = this.createColDef(valueCol, columnName, []);\n      const colIds = [];\n      for (let i2 = 0; i2 < pivotColumnDefs.length; i2++) {\n        const colDef2 = pivotColumnDefs[i2];\n        if (colDef2.pivotValueColumn === valueCol) {\n          colIds.push(colDef2.colId);\n        }\n      }\n      colDef.pivotTotalColumnIds = colIds;\n      colDef.colId = PIVOT_ROW_TOTAL_PREFIX + colDef.colId;\n      const valueGroup = isCreateTotalGroups ? {\n        children: [colDef],\n        pivotKeys: [],\n        groupId: `${PIVOT_ROW_TOTAL_PREFIX}_pivotGroup_${valueCol.getColId()}`\n      } : colDef;\n      pivotColumnDefs.push(colDef);\n      insertAtEnd ? pivotColumnGroupDefs.push(valueGroup) : pivotColumnGroupDefs.unshift(valueGroup);\n    }\n  }\n  createColDef(valueColumn, headerName, pivotKeys, totalColumn = false) {\n    const colDef = {};\n    if (valueColumn) {\n      const colDefToCopy = valueColumn.getColDef();\n      Object.assign(colDef, colDefToCopy);\n      colDef.hide = false;\n    }\n    colDef.headerName = headerName;\n    colDef.colId = this.generateColumnId(\n      pivotKeys || [],\n      valueColumn && !totalColumn ? valueColumn.getColId() : \"\"\n    );\n    colDef.field = colDef.colId;\n    colDef.valueGetter = (params) => params.data?.[params.colDef.field];\n    colDef.pivotKeys = pivotKeys;\n    colDef.pivotValueColumn = valueColumn;\n    if (colDef.filter === true) {\n      colDef.filter = \"agNumberColumnFilter\";\n    }\n    return colDef;\n  }\n  sameAggFuncs(aggFuncs) {\n    if (aggFuncs.length == 1) {\n      return true;\n    }\n    for (let i = 1; i < aggFuncs.length; i++) {\n      if (aggFuncs[i] !== aggFuncs[0]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  headerNameComparator(userComparator, a, b) {\n    if (userComparator) {\n      return userComparator(a.headerName, b.headerName);\n    } else {\n      if (a.headerName && !b.headerName) {\n        return 1;\n      } else if (!a.headerName && b.headerName) {\n        return -1;\n      }\n      if (!a.headerName || !b.headerName) {\n        return 0;\n      }\n      if (a.headerName < b.headerName) {\n        return -1;\n      }\n      if (a.headerName > b.headerName) {\n        return 1;\n      }\n      return 0;\n    }\n  }\n  merge(m1, m2) {\n    m2.forEach((value, key) => {\n      const existingList = m1.has(key) ? m1.get(key) : [];\n      const updatedList = [...existingList, ...value];\n      m1.set(key, updatedList);\n    });\n  }\n  generateColumnGroupId(pivotKeys) {\n    const pivotCols = this.funcColsService.getPivotColumns().map((col) => col.getColId());\n    return `pivotGroup_${pivotCols.join(\"-\")}_${pivotKeys.join(\"-\")}`;\n  }\n  generateColumnId(pivotKeys, measureColumnId) {\n    const pivotCols = this.funcColsService.getPivotColumns().map((col) => col.getColId());\n    return `pivot_${pivotCols.join(\"-\")}_${pivotKeys.join(\"-\")}_${measureColumnId}`;\n  }\n  /**\n   * Used by the SSRM to create secondary columns from provided fields\n   * @param fields\n   */\n  createColDefsFromFields(fields) {\n    const uniqueValues = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      const parts = field.split(this.fieldSeparator);\n      let level = uniqueValues;\n      for (let p = 0; p < parts.length; p++) {\n        const part = parts[p];\n        if (level[part] == null) {\n          level[part] = {};\n        }\n        level = level[part];\n      }\n    }\n    const uniqueValuesToGroups = (id, key, uniqueValues2, depth) => {\n      const children = [];\n      for (const key2 in uniqueValues2) {\n        const item = uniqueValues2[key2];\n        const child = uniqueValuesToGroups(`${id}${this.fieldSeparator}${key2}`, key2, item, depth + 1);\n        children.push(child);\n      }\n      if (children.length === 0) {\n        const potentialAggCol = this.columnModel.getColDefCol(key);\n        if (potentialAggCol) {\n          const headerName = this.columnNameService.getDisplayNameForColumn(potentialAggCol, \"header\") ?? key;\n          const colDef = this.createColDef(potentialAggCol, headerName, void 0, false);\n          colDef.colId = id;\n          colDef.aggFunc = potentialAggCol.getAggFunc();\n          colDef.valueGetter = (params) => params.data?.[id];\n          return colDef;\n        }\n        const col = {\n          colId: id,\n          headerName: key,\n          // this is to support using pinned rows, normally the data will be extracted from the aggData object using the colId\n          // however pinned rows still access the data object by field, this prevents values with dots from being treated as complex objects\n          valueGetter: (params) => params.data?.[id]\n        };\n        return col;\n      }\n      const collapseSingleChildren = this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");\n      if (collapseSingleChildren && children.length === 1 && \"colId\" in children[0]) {\n        children[0].headerName = key;\n        return children[0];\n      }\n      const group = {\n        openByDefault: this.pivotDefaultExpanded === -1 || depth < this.pivotDefaultExpanded,\n        groupId: id,\n        headerName: key,\n        children\n      };\n      return group;\n    };\n    const res = [];\n    for (const key in uniqueValues) {\n      const item = uniqueValues[key];\n      const col = uniqueValuesToGroups(key, key, item, 0);\n      res.push(col);\n    }\n    return res;\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/pivotStage.ts\nimport { BeanStub as BeanStub10, _iterateObject as _iterateObject3, _missing as _missing2 } from \"@ag-grid-community/core\";\nvar EXCEEDED_MAX_UNIQUE_VALUES = \"Exceeded maximum allowed pivot column count.\";\nvar PivotStage = class extends BeanStub10 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"pivotStage\";\n    this.uniqueValues = {};\n    this.lastTimeFailed = false;\n    this.maxUniqueValues = -1;\n    this.currentUniqueCount = 0;\n  }\n  wireBeans(beans) {\n    this.valueService = beans.valueService;\n    this.columnModel = beans.columnModel;\n    this.pivotResultColsService = beans.pivotResultColsService;\n    this.funcColsService = beans.funcColsService;\n    this.pivotColDefService = beans.pivotColDefService;\n  }\n  execute(params) {\n    const changedPath = params.changedPath;\n    if (this.columnModel.isPivotActive()) {\n      this.executePivotOn(changedPath);\n    } else {\n      this.executePivotOff(changedPath);\n    }\n  }\n  executePivotOff(changedPath) {\n    this.aggregationColumnsHashLastTime = null;\n    this.uniqueValues = {};\n    if (this.pivotResultColsService.isPivotResultColsPresent()) {\n      this.pivotResultColsService.setPivotResultCols(null, \"rowModelUpdated\");\n      if (changedPath) {\n        changedPath.setInactive();\n      }\n    }\n  }\n  executePivotOn(changedPath) {\n    const numberOfAggregationColumns = this.funcColsService.getValueColumns().length ?? 1;\n    const configuredMaxCols = this.gos.get(\"pivotMaxGeneratedColumns\");\n    this.maxUniqueValues = configuredMaxCols === -1 ? -1 : configuredMaxCols / numberOfAggregationColumns;\n    let uniqueValues;\n    try {\n      uniqueValues = this.bucketUpRowNodes(changedPath);\n    } catch (e) {\n      if (e.message === EXCEEDED_MAX_UNIQUE_VALUES) {\n        this.pivotResultColsService.setPivotResultCols([], \"rowModelUpdated\");\n        this.eventService.dispatchEvent({\n          type: \"pivotMaxColumnsExceeded\",\n          message: e.message\n        });\n        this.lastTimeFailed = true;\n        return;\n      }\n      throw e;\n    }\n    const uniqueValuesChanged = this.setUniqueValues(uniqueValues);\n    const aggregationColumns = this.funcColsService.getValueColumns();\n    const aggregationColumnsHash = aggregationColumns.map((column) => `${column.getId()}-${column.getColDef().headerName}`).join(\"#\");\n    const aggregationFuncsHash = aggregationColumns.map((column) => column.getAggFunc().toString()).join(\"#\");\n    const aggregationColumnsChanged = this.aggregationColumnsHashLastTime !== aggregationColumnsHash;\n    const aggregationFuncsChanged = this.aggregationFuncsHashLastTime !== aggregationFuncsHash;\n    this.aggregationColumnsHashLastTime = aggregationColumnsHash;\n    this.aggregationFuncsHashLastTime = aggregationFuncsHash;\n    const groupColumnsHash = this.funcColsService.getRowGroupColumns().map((column) => column.getId()).join(\"#\");\n    const groupColumnsChanged = groupColumnsHash !== this.groupColumnsHashLastTime;\n    this.groupColumnsHashLastTime = groupColumnsHash;\n    const pivotRowTotals = this.gos.get(\"pivotRowTotals\");\n    const pivotColumnGroupTotals = this.gos.get(\"pivotColumnGroupTotals\");\n    const suppressExpandablePivotGroups = this.gos.get(\"suppressExpandablePivotGroups\");\n    const removePivotHeaderRowWhenSingleValueColumn = this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");\n    const anyGridOptionsChanged = pivotRowTotals !== this.pivotRowTotalsLastTime || pivotColumnGroupTotals !== this.pivotColumnGroupTotalsLastTime || suppressExpandablePivotGroups !== this.suppressExpandablePivotGroupsLastTime || removePivotHeaderRowWhenSingleValueColumn !== this.removePivotHeaderRowWhenSingleValueColumnLastTime;\n    this.pivotRowTotalsLastTime = pivotRowTotals;\n    this.pivotColumnGroupTotalsLastTime = pivotColumnGroupTotals;\n    this.suppressExpandablePivotGroupsLastTime = suppressExpandablePivotGroups;\n    this.removePivotHeaderRowWhenSingleValueColumnLastTime = removePivotHeaderRowWhenSingleValueColumn;\n    if (this.lastTimeFailed || uniqueValuesChanged || aggregationColumnsChanged || groupColumnsChanged || aggregationFuncsChanged || anyGridOptionsChanged) {\n      const { pivotColumnGroupDefs, pivotColumnDefs } = this.pivotColDefService.createPivotColumnDefs(\n        this.uniqueValues\n      );\n      this.pivotColumnDefs = pivotColumnDefs;\n      this.pivotResultColsService.setPivotResultCols(pivotColumnGroupDefs, \"rowModelUpdated\");\n      if (changedPath) {\n        changedPath.setInactive();\n      }\n    }\n    this.lastTimeFailed = false;\n  }\n  setUniqueValues(newValues) {\n    const json1 = JSON.stringify(newValues);\n    const json2 = JSON.stringify(this.uniqueValues);\n    const uniqueValuesChanged = json1 !== json2;\n    if (uniqueValuesChanged) {\n      this.uniqueValues = newValues;\n      return true;\n    } else {\n      return false;\n    }\n  }\n  bucketUpRowNodes(changedPath) {\n    this.currentUniqueCount = 0;\n    const uniqueValues = {};\n    changedPath.forEachChangedNodeDepthFirst((node) => {\n      if (node.leafGroup) {\n        node.childrenMapped = null;\n      }\n    });\n    const recursivelyBucketFilteredChildren = (node) => {\n      if (node.leafGroup) {\n        this.bucketRowNode(node, uniqueValues);\n      } else {\n        node.childrenAfterFilter?.forEach(recursivelyBucketFilteredChildren);\n      }\n    };\n    changedPath.executeFromRootNode(recursivelyBucketFilteredChildren);\n    return uniqueValues;\n  }\n  bucketRowNode(rowNode, uniqueValues) {\n    const pivotColumns = this.funcColsService.getPivotColumns();\n    if (pivotColumns.length === 0) {\n      rowNode.childrenMapped = null;\n    } else {\n      rowNode.childrenMapped = this.bucketChildren(rowNode.childrenAfterFilter, pivotColumns, 0, uniqueValues);\n    }\n    if (rowNode.sibling) {\n      rowNode.sibling.childrenMapped = rowNode.childrenMapped;\n    }\n  }\n  bucketChildren(children, pivotColumns, pivotIndex, uniqueValues) {\n    const mappedChildren = {};\n    const pivotColumn = pivotColumns[pivotIndex];\n    children.forEach((child) => {\n      let key = this.valueService.getKeyForNode(pivotColumn, child);\n      if (_missing2(key)) {\n        key = \"\";\n      }\n      if (!uniqueValues[key]) {\n        this.currentUniqueCount += 1;\n        uniqueValues[key] = {};\n        const doesGeneratedColMaxExist = this.maxUniqueValues !== -1;\n        const hasExceededColMax = this.currentUniqueCount > this.maxUniqueValues;\n        if (doesGeneratedColMaxExist && hasExceededColMax) {\n          throw Error(EXCEEDED_MAX_UNIQUE_VALUES);\n        }\n      }\n      if (!mappedChildren[key]) {\n        mappedChildren[key] = [];\n      }\n      mappedChildren[key].push(child);\n    });\n    if (pivotIndex === pivotColumns.length - 1) {\n      return mappedChildren;\n    } else {\n      const result = {};\n      _iterateObject3(mappedChildren, (key, value) => {\n        result[key] = this.bucketChildren(value, pivotColumns, pivotIndex + 1, uniqueValues[key]);\n      });\n      return result;\n    }\n  }\n  getPivotColumnDefs() {\n    return this.pivotColumnDefs;\n  }\n};\n\n// enterprise-modules/row-grouping/src/rowGrouping/rowGroupingApi.ts\nfunction addAggFunc(beans, key, aggFunc) {\n  if (beans.aggFuncService) {\n    beans.aggFuncService.addAggFuncs({ key: aggFunc });\n  }\n}\nfunction addAggFuncs(beans, aggFuncs) {\n  if (beans.aggFuncService) {\n    beans.aggFuncService.addAggFuncs(aggFuncs);\n  }\n}\nfunction clearAggFuncs(beans) {\n  if (beans.aggFuncService) {\n    beans.aggFuncService.clear();\n  }\n}\nfunction setColumnAggFunc(beans, key, aggFunc) {\n  beans.funcColsService.setColumnAggFunc(key, aggFunc, \"api\");\n}\nfunction isPivotMode(beans) {\n  return beans.columnModel.isPivotMode();\n}\nfunction getPivotResultColumn(beans, pivotKeys, valueColKey) {\n  return beans.pivotResultColsService.lookupPivotResultCol(pivotKeys, valueColKey);\n}\nfunction setValueColumns(beans, colKeys) {\n  beans.funcColsService.setValueColumns(colKeys, \"api\");\n}\nfunction getValueColumns(beans) {\n  return beans.funcColsService.getValueColumns();\n}\nfunction removeValueColumn(beans, colKey) {\n  beans.funcColsService.removeValueColumns([colKey], \"api\");\n}\nfunction removeValueColumns(beans, colKeys) {\n  beans.funcColsService.removeValueColumns(colKeys, \"api\");\n}\nfunction addValueColumn(beans, colKey) {\n  beans.funcColsService.addValueColumns([colKey], \"api\");\n}\nfunction addValueColumns(beans, colKeys) {\n  beans.funcColsService.addValueColumns(colKeys, \"api\");\n}\nfunction setRowGroupColumns(beans, colKeys) {\n  beans.funcColsService.setRowGroupColumns(colKeys, \"api\");\n}\nfunction removeRowGroupColumn(beans, colKey) {\n  beans.funcColsService.removeRowGroupColumns([colKey], \"api\");\n}\nfunction removeRowGroupColumns(beans, colKeys) {\n  beans.funcColsService.removeRowGroupColumns(colKeys, \"api\");\n}\nfunction addRowGroupColumn(beans, colKey) {\n  beans.funcColsService.addRowGroupColumns([colKey], \"api\");\n}\nfunction addRowGroupColumns(beans, colKeys) {\n  beans.funcColsService.addRowGroupColumns(colKeys, \"api\");\n}\nfunction moveRowGroupColumn(beans, fromIndex, toIndex) {\n  beans.funcColsService.moveRowGroupColumn(fromIndex, toIndex, \"api\");\n}\nfunction getRowGroupColumns(beans) {\n  return beans.funcColsService.getRowGroupColumns();\n}\nfunction setPivotColumns(beans, colKeys) {\n  beans.funcColsService.setPivotColumns(colKeys, \"api\");\n}\nfunction removePivotColumn(beans, colKey) {\n  beans.funcColsService.removePivotColumns([colKey], \"api\");\n}\nfunction removePivotColumns(beans, colKeys) {\n  beans.funcColsService.removePivotColumns(colKeys, \"api\");\n}\nfunction addPivotColumn(beans, colKey) {\n  beans.funcColsService.addPivotColumns([colKey], \"api\");\n}\nfunction addPivotColumns(beans, colKeys) {\n  beans.funcColsService.addPivotColumns(colKeys, \"api\");\n}\nfunction getPivotColumns(beans) {\n  return beans.funcColsService.getPivotColumns();\n}\nfunction setPivotResultColumns(beans, colDefs) {\n  beans.pivotResultColsService.setPivotResultCols(colDefs, \"api\");\n}\nfunction getPivotResultColumns(beans) {\n  const pivotResultCols = beans.pivotResultColsService.getPivotResultCols();\n  return pivotResultCols ? pivotResultCols.list : null;\n}\n\n// enterprise-modules/row-grouping/src/rowGrouping/showRowGroupColsService.ts\nimport { BeanStub as BeanStub11 } from \"@ag-grid-community/core\";\nvar ShowRowGroupColsService = class extends BeanStub11 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"showRowGroupColsService\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n  }\n  refresh() {\n    this.showRowGroupCols = [];\n    this.showRowGroupColsMap = {};\n    this.columnModel.getCols().forEach((col) => {\n      const colDef = col.getColDef();\n      const showRowGroup = colDef.showRowGroup;\n      const isString = typeof showRowGroup === \"string\";\n      const isTrue = showRowGroup === true;\n      if (!isString && !isTrue) {\n        return;\n      }\n      this.showRowGroupCols.push(col);\n      if (isString) {\n        this.showRowGroupColsMap[showRowGroup] = col;\n      } else {\n        const rowGroupCols = this.funcColsService.getRowGroupColumns();\n        rowGroupCols.forEach((rowGroupCol) => {\n          this.showRowGroupColsMap[rowGroupCol.getId()] = col;\n        });\n      }\n    });\n  }\n  getShowRowGroupCols() {\n    return this.showRowGroupCols;\n  }\n  getShowRowGroupCol(id) {\n    return this.showRowGroupColsMap[id];\n  }\n};\n\n// enterprise-modules/row-grouping/src/version.ts\nvar VERSION = \"32.3.9\";\n\n// enterprise-modules/row-grouping/src/rowGroupingModule.ts\nvar RowGroupingCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: `${ModuleNames.RowGroupingModule}-core`,\n  beans: [\n    AggregationStage,\n    FilterAggregatesStage,\n    GroupStage,\n    PivotColDefService,\n    PivotStage,\n    AggFuncService,\n    AutoColService,\n    ShowRowGroupColsService,\n    ColumnDropZoneService\n  ],\n  userComponents: [\n    {\n      name: \"agGroupRowRenderer\",\n      classImp: GroupCellRenderer\n    },\n    {\n      name: \"agGroupCellRenderer\",\n      classImp: GroupCellRenderer\n    }\n  ],\n  controllers: [{ name: \"groupCellRendererCtrl\", classImp: GroupCellRendererCtrl }],\n  dependantModules: [EnterpriseCoreModule]\n});\nvar RowGroupingApiModule = _defineModule({\n  version: VERSION,\n  moduleName: `${ModuleNames.RowGroupingModule}-api`,\n  apiFunctions: {\n    addAggFunc,\n    addAggFuncs,\n    clearAggFuncs,\n    setColumnAggFunc,\n    isPivotMode,\n    getPivotResultColumn,\n    setValueColumns,\n    getValueColumns,\n    removeValueColumn,\n    removeValueColumns,\n    addValueColumn,\n    addValueColumns,\n    setRowGroupColumns,\n    removeRowGroupColumn,\n    removeRowGroupColumns,\n    addRowGroupColumn,\n    addRowGroupColumns,\n    getRowGroupColumns,\n    moveRowGroupColumn,\n    setPivotColumns,\n    removePivotColumn,\n    removePivotColumns,\n    addPivotColumn,\n    addPivotColumns,\n    getPivotColumns,\n    setPivotResultColumns,\n    getPivotResultColumns\n  },\n  dependantModules: [RowGroupingCoreModule]\n});\nvar GroupFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-enterprise/group-filter\",\n  userComponents: [{ name: \"agGroupColumnFilter\", classImp: GroupFilter }],\n  dependantModules: [RowGroupingCoreModule, _ColumnFilterModule]\n});\nvar GroupFloatingFilterModule = _defineModule({\n  version: VERSION,\n  moduleName: \"@ag-grid-enterprise/group-floating-filter\",\n  userComponents: [{ name: \"agGroupColumnFloatingFilter\", classImp: GroupFloatingFilterComp }],\n  dependantModules: [GroupFilterModule, _FloatingFilterModule]\n});\nvar RowGroupingModule = _defineModule({\n  version: VERSION,\n  moduleName: ModuleNames.RowGroupingModule,\n  dependantModules: [RowGroupingCoreModule, RowGroupingApiModule, GroupFilterModule, GroupFloatingFilterModule]\n});\n\n// enterprise-modules/row-grouping/src/rowGrouping/columnDropZones/valueDropZonePanel.ts\nimport { _createIconNoSpan as _createIconNoSpan3 } from \"@ag-grid-community/core\";\nvar ValuesDropZonePanel = class extends BaseDropZonePanel {\n  constructor(horizontal) {\n    super(horizontal, \"aggregation\");\n  }\n  postConstruct() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const emptyMessage = localeTextFunc(\"valueColumnsEmptyMessage\", \"Drag here to aggregate\");\n    const title = localeTextFunc(\"values\", \"Values\");\n    super.init({\n      icon: _createIconNoSpan3(\"valuePanel\", this.gos, null),\n      emptyMessage,\n      title\n    });\n    this.addManagedEventListeners({ columnValueChanged: this.refreshGui.bind(this) });\n  }\n  getAriaLabel() {\n    const translate = this.localeService.getLocaleTextFunc();\n    const label = translate(\"ariaValuesDropZonePanelLabel\", \"Values\");\n    return label;\n  }\n  getTooltipParams() {\n    const res = super.getTooltipParams();\n    res.location = \"valueColumnsList\";\n    return res;\n  }\n  getIconName() {\n    return this.isPotentialDndItems() ? \"aggregate\" : \"notAllowed\";\n  }\n  isItemDroppable(column, draggingEvent) {\n    if (this.gos.get(\"functionsReadOnly\") || !column.isPrimary()) {\n      return false;\n    }\n    return column.isAllowValue() && (!column.isValueActive() || this.isSourceEventFromTarget(draggingEvent));\n  }\n  updateItems(columns) {\n    this.funcColsService.setValueColumns(columns, \"toolPanelUi\");\n  }\n  getExistingItems() {\n    return this.funcColsService.getValueColumns();\n  }\n};\nexport {\n  PivotDropZonePanel,\n  RowGroupDropZonePanel,\n  RowGroupingModule,\n  ValuesDropZonePanel\n};\n"],
  "mappings": "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",
  "names": []
}
