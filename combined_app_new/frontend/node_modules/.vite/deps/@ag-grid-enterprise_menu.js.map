{
  "version": 3,
  "sources": ["../../@ag-grid-enterprise/menu/dist/package/main.esm.mjs"],
  "sourcesContent": ["// enterprise-modules/menu/src/menuModule.ts\nimport { ModuleNames as ModuleNames5, _CommunityMenuApiModule, _defineModule } from \"@ag-grid-community/core\";\nimport { AgMenuItemRenderer, EnterpriseCoreModule } from \"@ag-grid-enterprise/core\";\n\n// enterprise-modules/menu/src/menu/chartMenuItemMapper.ts\nimport { BeanStub, ModuleNames, _createIconNoSpan, _warnOnce } from \"@ag-grid-community/core\";\nvar ChartMenuItemMapper = class _ChartMenuItemMapper extends BeanStub {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"chartMenuItemMapper\";\n  }\n  wireBeans(beans) {\n    this.chartService = beans.chartService;\n  }\n  getChartItems(key) {\n    if (!this.chartService) {\n      this.gos.assertModuleRegistered(ModuleNames.GridChartsModule, `the Context Menu key \"${key}\"`);\n      return void 0;\n    }\n    const builder = key === \"pivotChart\" ? new PivotMenuItemMapper(this.gos, this.chartService, this.localeService) : new RangeMenuItemMapper(this.gos, this.chartService, this.localeService);\n    const isEnterprise = this.chartService.isEnterprise();\n    let topLevelMenuItem = builder.getMenuItem();\n    if (topLevelMenuItem && topLevelMenuItem.subMenu && !isEnterprise) {\n      const filterEnterpriseItems = (m) => ({\n        ...m,\n        subMenu: m.subMenu?.filter((menu) => !menu._enterprise).map((menu) => filterEnterpriseItems(menu))\n      });\n      topLevelMenuItem = filterEnterpriseItems(topLevelMenuItem);\n    }\n    const chartGroupsDef = this.gos.get(\"chartToolPanelsDef\")?.settingsPanel?.chartGroupsDef;\n    if (chartGroupsDef) {\n      topLevelMenuItem = _ChartMenuItemMapper.filterAndOrderChartMenu(\n        topLevelMenuItem,\n        chartGroupsDef,\n        builder.getConfigLookup()\n      );\n    }\n    return this.cleanInternals(topLevelMenuItem);\n  }\n  // Remove our internal _key and _enterprise properties so this does not leak out of the class on the menu items.\n  cleanInternals(menuItem) {\n    if (!menuItem) {\n      return menuItem;\n    }\n    const removeKeys = (m) => {\n      delete m?._key;\n      delete m?._enterprise;\n      m?.subMenu?.forEach((s) => removeKeys(s));\n      return m;\n    };\n    return removeKeys(menuItem);\n  }\n  static buildLookup(menuItem) {\n    const itemLookup = {};\n    const addItem = (item) => {\n      itemLookup[item._key] = item;\n      if (item.subMenu) {\n        item.subMenu.forEach((s) => addItem(s));\n      }\n    };\n    addItem(menuItem);\n    return itemLookup;\n  }\n  /**\n   * Make the MenuItem match the charts provided and their ordering on the ChartGroupsDef config object as provided by the user.\n   */\n  static filterAndOrderChartMenu(topLevelMenuItem, chartGroupsDef, configLookup) {\n    const menuItemLookup = this.buildLookup(topLevelMenuItem);\n    const orderedAndFiltered = { ...topLevelMenuItem, subMenu: [] };\n    Object.entries(chartGroupsDef).forEach(([group, chartTypes]) => {\n      const chartConfigGroup = configLookup[group];\n      if (chartConfigGroup === null)\n        return;\n      if (chartConfigGroup == void 0) {\n        _warnOnce(`invalid chartGroupsDef config '${group}'`);\n        return void 0;\n      }\n      const menuItem = menuItemLookup[chartConfigGroup._key];\n      if (menuItem) {\n        if (menuItem.subMenu) {\n          const subMenus = chartTypes.map((chartType) => {\n            const itemKey = chartConfigGroup[chartType];\n            if (itemKey == void 0) {\n              _warnOnce(`invalid chartGroupsDef config '${group}.${chartType}'`);\n              return void 0;\n            }\n            return menuItemLookup[itemKey];\n          }).filter((s) => s !== void 0);\n          if (subMenus.length > 0) {\n            menuItem.subMenu = subMenus;\n            orderedAndFiltered.subMenu?.push(menuItem);\n          }\n        } else {\n          orderedAndFiltered.subMenu?.push(menuItem);\n        }\n      }\n    });\n    if (orderedAndFiltered.subMenu?.length == 0) {\n      return void 0;\n    }\n    return orderedAndFiltered;\n  }\n};\nvar PivotMenuItemMapper = class {\n  constructor(gos, chartService, localeService) {\n    this.gos = gos;\n    this.chartService = chartService;\n    this.localeService = localeService;\n  }\n  getMenuItem() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const getMenuItem = (localeKey, defaultText, chartType, key, enterprise = false) => {\n      return {\n        name: localeTextFunc(localeKey, defaultText),\n        action: () => this.chartService.createPivotChart({ chartType }),\n        _key: key,\n        _enterprise: enterprise\n      };\n    };\n    return {\n      name: localeTextFunc(\"pivotChart\", \"Pivot Chart\"),\n      _key: \"pivotChart\",\n      subMenu: [\n        {\n          _key: \"pivotColumnChart\",\n          name: localeTextFunc(\"columnChart\", \"Column\"),\n          subMenu: [\n            getMenuItem(\"groupedColumn\", \"Grouped&lrm;\", \"groupedColumn\", \"pivotGroupedColumn\"),\n            getMenuItem(\"stackedColumn\", \"Stacked&lrm;\", \"stackedColumn\", \"pivotStackedColumn\"),\n            getMenuItem(\n              \"normalizedColumn\",\n              \"100% Stacked&lrm;\",\n              \"normalizedColumn\",\n              \"pivotNormalizedColumn\"\n            )\n          ]\n        },\n        {\n          _key: \"pivotBarChart\",\n          name: localeTextFunc(\"barChart\", \"Bar\"),\n          subMenu: [\n            getMenuItem(\"groupedBar\", \"Grouped&lrm;\", \"groupedBar\", \"pivotGroupedBar\"),\n            getMenuItem(\"stackedBar\", \"Stacked&lrm;\", \"stackedBar\", \"pivotStackedBar\"),\n            getMenuItem(\"normalizedBar\", \"100% Stacked&lrm;\", \"normalizedBar\", \"pivotNormalizedBar\")\n          ]\n        },\n        {\n          _key: \"pivotPieChart\",\n          name: localeTextFunc(\"pieChart\", \"Pie\"),\n          subMenu: [\n            getMenuItem(\"pie\", \"Pie&lrm;\", \"pie\", \"pivotPie\"),\n            getMenuItem(\"donut\", \"Donut&lrm;\", \"donut\", \"pivotDonut\")\n          ]\n        },\n        getMenuItem(\"line\", \"Line&lrm;\", \"line\", \"pivotLineChart\"),\n        {\n          _key: \"pivotXYChart\",\n          name: localeTextFunc(\"xyChart\", \"X Y (Scatter)\"),\n          subMenu: [\n            getMenuItem(\"scatter\", \"Scatter&lrm;\", \"scatter\", \"pivotScatter\"),\n            getMenuItem(\"bubble\", \"Bubble&lrm;\", \"bubble\", \"pivotBubble\")\n          ]\n        },\n        {\n          _key: \"pivotAreaChart\",\n          name: localeTextFunc(\"areaChart\", \"Area\"),\n          subMenu: [\n            getMenuItem(\"area\", \"Area&lrm;\", \"area\", \"pivotArea\"),\n            getMenuItem(\"stackedArea\", \"Stacked&lrm;\", \"stackedArea\", \"pivotStackedArea\"),\n            getMenuItem(\"normalizedArea\", \"100% Stacked&lrm;\", \"normalizedArea\", \"pivotNormalizedArea\")\n          ]\n        },\n        {\n          _key: \"pivotStatisticalChart\",\n          _enterprise: false,\n          // histogram chart is available in both community and enterprise distributions\n          name: localeTextFunc(\"statisticalChart\", \"Statistical\"),\n          subMenu: [getMenuItem(\"histogramChart\", \"Histogram&lrm;\", \"histogram\", \"pivotHistogram\", false)]\n        },\n        {\n          _key: \"pivotHierarchicalChart\",\n          _enterprise: true,\n          name: localeTextFunc(\"hierarchicalChart\", \"Hierarchical\"),\n          subMenu: [\n            getMenuItem(\"treemapChart\", \"Treemap&lrm;\", \"treemap\", \"pivotTreemap\", true),\n            getMenuItem(\"sunburstChart\", \"Sunburst&lrm;\", \"sunburst\", \"pivotSunburst\", true)\n          ]\n        },\n        {\n          _key: \"pivotCombinationChart\",\n          name: localeTextFunc(\"combinationChart\", \"Combination\"),\n          subMenu: [\n            getMenuItem(\"columnLineCombo\", \"Column & Line&lrm;\", \"columnLineCombo\", \"pivotColumnLineCombo\"),\n            getMenuItem(\"AreaColumnCombo\", \"Area & Column&lrm;\", \"areaColumnCombo\", \"pivotAreaColumnCombo\")\n          ]\n        }\n      ],\n      icon: _createIconNoSpan(\"chart\", this.gos, void 0)\n    };\n  }\n  getConfigLookup() {\n    return {\n      columnGroup: {\n        _key: \"pivotColumnChart\",\n        column: \"pivotGroupedColumn\",\n        stackedColumn: \"pivotStackedColumn\",\n        normalizedColumn: \"pivotNormalizedColumn\"\n      },\n      barGroup: {\n        _key: \"pivotBarChart\",\n        bar: \"pivotGroupedBar\",\n        stackedBar: \"pivotStackedBar\",\n        normalizedBar: \"pivotNormalizedBar\"\n      },\n      pieGroup: {\n        _key: \"pivotPieChart\",\n        pie: \"pivotPie\",\n        donut: \"pivotDonut\",\n        doughnut: \"pivotDonut\"\n      },\n      lineGroup: {\n        _key: \"pivotLineChart\",\n        line: \"pivotLineChart\"\n      },\n      scatterGroup: {\n        _key: \"pivotXYChart\",\n        bubble: \"pivotBubble\",\n        scatter: \"pivotScatter\"\n      },\n      areaGroup: {\n        _key: \"pivotAreaChart\",\n        area: \"pivotArea\",\n        stackedArea: \"pivotStackedArea\",\n        normalizedArea: \"pivotNormalizedArea\"\n      },\n      combinationGroup: {\n        _key: \"pivotCombinationChart\",\n        columnLineCombo: \"pivotColumnLineCombo\",\n        areaColumnCombo: \"pivotAreaColumnCombo\",\n        customCombo: null\n        // Not currently supported\n      },\n      hierarchicalGroup: {\n        _key: \"pivotHierarchicalChart\",\n        treemap: \"pivotTreemap\",\n        sunburst: \"pivotSunburst\"\n      },\n      statisticalGroup: {\n        _key: \"pivotStatisticalChart\",\n        histogram: \"pivotHistogram\",\n        // Some statistical charts do not currently support pivot mode\n        rangeBar: null,\n        rangeArea: null,\n        boxPlot: null\n      },\n      // Polar charts do not support pivot mode\n      polarGroup: null,\n      // Specialized charts do not currently support pivot mode\n      specializedGroup: null\n    };\n  }\n};\nvar RangeMenuItemMapper = class {\n  constructor(gos, chartService, localeService) {\n    this.gos = gos;\n    this.chartService = chartService;\n    this.localeService = localeService;\n  }\n  getMenuItem() {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const getMenuItem = (localeKey, defaultText, chartType, key, enterprise = false) => {\n      return {\n        name: localeTextFunc(localeKey, defaultText),\n        action: () => this.chartService.createChartFromCurrentRange(chartType),\n        _key: key,\n        _enterprise: enterprise\n      };\n    };\n    return {\n      name: localeTextFunc(\"chartRange\", \"Chart Range\"),\n      _key: \"chartRange\",\n      subMenu: [\n        {\n          name: localeTextFunc(\"columnChart\", \"Column\"),\n          subMenu: [\n            getMenuItem(\"groupedColumn\", \"Grouped&lrm;\", \"groupedColumn\", \"rangeGroupedColumn\"),\n            getMenuItem(\"stackedColumn\", \"Stacked&lrm;\", \"stackedColumn\", \"rangeStackedColumn\"),\n            getMenuItem(\n              \"normalizedColumn\",\n              \"100% Stacked&lrm;\",\n              \"normalizedColumn\",\n              \"rangeNormalizedColumn\"\n            )\n          ],\n          _key: \"rangeColumnChart\"\n        },\n        {\n          name: localeTextFunc(\"barChart\", \"Bar\"),\n          subMenu: [\n            getMenuItem(\"groupedBar\", \"Grouped&lrm;\", \"groupedBar\", \"rangeGroupedBar\"),\n            getMenuItem(\"stackedBar\", \"Stacked&lrm;\", \"stackedBar\", \"rangeStackedBar\"),\n            getMenuItem(\"normalizedBar\", \"100% Stacked&lrm;\", \"normalizedBar\", \"rangeNormalizedBar\")\n          ],\n          _key: \"rangeBarChart\"\n        },\n        {\n          name: localeTextFunc(\"pieChart\", \"Pie\"),\n          subMenu: [\n            getMenuItem(\"pie\", \"Pie&lrm;\", \"pie\", \"rangePie\"),\n            getMenuItem(\"donut\", \"Donut&lrm;\", \"donut\", \"rangeDonut\")\n          ],\n          _key: \"rangePieChart\"\n        },\n        getMenuItem(\"line\", \"Line&lrm;\", \"line\", \"rangeLineChart\"),\n        {\n          name: localeTextFunc(\"xyChart\", \"X Y (Scatter)\"),\n          subMenu: [\n            getMenuItem(\"scatter\", \"Scatter&lrm;\", \"scatter\", \"rangeScatter\"),\n            getMenuItem(\"bubble\", \"Bubble&lrm;\", \"bubble\", \"rangeBubble\")\n          ],\n          _key: \"rangeXYChart\"\n        },\n        {\n          name: localeTextFunc(\"areaChart\", \"Area\"),\n          subMenu: [\n            getMenuItem(\"area\", \"Area&lrm;\", \"area\", \"rangeArea\"),\n            getMenuItem(\"stackedArea\", \"Stacked&lrm;\", \"stackedArea\", \"rangeStackedArea\"),\n            getMenuItem(\"normalizedArea\", \"100% Stacked&lrm;\", \"normalizedArea\", \"rangeNormalizedArea\")\n          ],\n          _key: \"rangeAreaChart\"\n        },\n        {\n          name: localeTextFunc(\"polarChart\", \"Polar\"),\n          subMenu: [\n            getMenuItem(\"radarLine\", \"Radar Line&lrm;\", \"radarLine\", \"rangeRadarLine\"),\n            getMenuItem(\"radarArea\", \"Radar Area&lrm;\", \"radarArea\", \"rangeRadarArea\"),\n            getMenuItem(\"nightingale\", \"Nightingale&lrm;\", \"nightingale\", \"rangeNightingale\"),\n            getMenuItem(\"radialColumn\", \"Radial Column&lrm;\", \"radialColumn\", \"rangeRadialColumn\"),\n            getMenuItem(\"radialBar\", \"Radial Bar&lrm;\", \"radialBar\", \"rangeRadialBar\")\n          ],\n          _key: \"rangePolarChart\",\n          _enterprise: true\n        },\n        {\n          name: localeTextFunc(\"statisticalChart\", \"Statistical\"),\n          subMenu: [\n            getMenuItem(\"boxPlot\", \"Box Plot&lrm;\", \"boxPlot\", \"rangeBoxPlot\", true),\n            getMenuItem(\"histogramChart\", \"Histogram&lrm;\", \"histogram\", \"rangeHistogram\", false),\n            getMenuItem(\"rangeBar\", \"Range Bar&lrm;\", \"rangeBar\", \"rangeRangeBar\", true),\n            getMenuItem(\"rangeArea\", \"Range Area&lrm;\", \"rangeArea\", \"rangeRangeArea\", true)\n          ],\n          _key: \"rangeStatisticalChart\",\n          _enterprise: false\n          // histogram chart is available in both community and enterprise distributions\n        },\n        {\n          name: localeTextFunc(\"hierarchicalChart\", \"Hierarchical\"),\n          subMenu: [\n            getMenuItem(\"treemap\", \"Treemap&lrm;\", \"treemap\", \"rangeTreemap\"),\n            getMenuItem(\"sunburst\", \"Sunburst&lrm;\", \"sunburst\", \"rangeSunburst\")\n          ],\n          _key: \"rangeHierarchicalChart\",\n          _enterprise: true\n        },\n        {\n          name: localeTextFunc(\"specializedChart\", \"Specialized\"),\n          subMenu: [\n            getMenuItem(\"heatmap\", \"Heatmap&lrm;\", \"heatmap\", \"rangeHeatmap\"),\n            getMenuItem(\"waterfall\", \"Waterfall&lrm;\", \"waterfall\", \"rangeWaterfall\")\n          ],\n          _key: \"rangeSpecializedChart\",\n          _enterprise: true\n        },\n        {\n          name: localeTextFunc(\"combinationChart\", \"Combination\"),\n          subMenu: [\n            getMenuItem(\"columnLineCombo\", \"Column & Line&lrm;\", \"columnLineCombo\", \"rangeColumnLineCombo\"),\n            getMenuItem(\"AreaColumnCombo\", \"Area & Column&lrm;\", \"areaColumnCombo\", \"rangeAreaColumnCombo\")\n          ],\n          _key: \"rangeCombinationChart\"\n        }\n      ],\n      icon: _createIconNoSpan(\"chart\", this.gos, void 0)\n    };\n  }\n  getConfigLookup() {\n    return {\n      columnGroup: {\n        _key: \"rangeColumnChart\",\n        column: \"rangeGroupedColumn\",\n        stackedColumn: \"rangeStackedColumn\",\n        normalizedColumn: \"rangeNormalizedColumn\"\n      },\n      barGroup: {\n        _key: \"rangeBarChart\",\n        bar: \"rangeGroupedBar\",\n        stackedBar: \"rangeStackedBar\",\n        normalizedBar: \"rangeNormalizedBar\"\n      },\n      pieGroup: {\n        _key: \"rangePieChart\",\n        pie: \"rangePie\",\n        donut: \"rangeDonut\",\n        doughnut: \"rangeDonut\"\n      },\n      lineGroup: {\n        _key: \"rangeLineChart\",\n        line: \"rangeLineChart\"\n      },\n      scatterGroup: {\n        _key: \"rangeXYChart\",\n        bubble: \"rangeBubble\",\n        scatter: \"rangeScatter\"\n      },\n      areaGroup: {\n        _key: \"rangeAreaChart\",\n        area: \"rangeArea\",\n        stackedArea: \"rangeStackedArea\",\n        normalizedArea: \"rangeNormalizedArea\"\n      },\n      polarGroup: {\n        _key: \"rangePolarChart\",\n        radarLine: \"rangeRadarLine\",\n        radarArea: \"rangeRadarArea\",\n        nightingale: \"rangeNightingale\",\n        radialColumn: \"rangeRadialColumn\",\n        radialBar: \"rangeRadialBar\"\n      },\n      statisticalGroup: {\n        _key: \"rangeStatisticalChart\",\n        boxPlot: \"rangeBoxPlot\",\n        histogram: \"rangeHistogram\",\n        rangeBar: \"rangeRangeBar\",\n        rangeArea: \"rangeRangeArea\"\n      },\n      hierarchicalGroup: {\n        _key: \"rangeHierarchicalChart\",\n        treemap: \"rangeTreemap\",\n        sunburst: \"rangeSunburst\"\n      },\n      specializedGroup: {\n        _key: \"rangeSpecializedChart\",\n        heatmap: \"rangeHeatmap\",\n        waterfall: \"rangeWaterfall\"\n      },\n      combinationGroup: {\n        _key: \"rangeCombinationChart\",\n        columnLineCombo: \"rangeColumnLineCombo\",\n        areaColumnCombo: \"rangeAreaColumnCombo\",\n        customCombo: null\n        // Not currently supported\n      }\n    };\n  }\n};\n\n// enterprise-modules/menu/src/menu/columnChooserFactory.ts\nimport { BeanStub as BeanStub2 } from \"@ag-grid-community/core\";\nimport { AgPrimaryCols } from \"@ag-grid-enterprise/column-tool-panel\";\nimport { AgDialog } from \"@ag-grid-enterprise/core\";\nvar ColumnChooserFactory = class extends BeanStub2 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnChooserFactory\";\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.menuUtils = beans.menuUtils;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  createColumnSelectPanel(parent, column, draggable, params) {\n    const columnSelectPanel = parent.createManagedBean(new AgPrimaryCols());\n    const columnChooserParams = params ?? column?.getColDef().columnChooserParams ?? column?.getColDef().columnsMenuParams ?? {};\n    const {\n      contractColumnSelection,\n      suppressColumnExpandAll,\n      suppressColumnFilter,\n      suppressColumnSelectAll,\n      suppressSyncLayoutWithGrid,\n      columnLayout\n    } = columnChooserParams;\n    columnSelectPanel.init(\n      !!draggable,\n      this.gos.addGridCommonParams({\n        suppressColumnMove: false,\n        suppressValues: false,\n        suppressPivots: false,\n        suppressRowGroups: false,\n        suppressPivotMode: false,\n        contractColumnSelection: !!contractColumnSelection,\n        suppressColumnExpandAll: !!suppressColumnExpandAll,\n        suppressColumnFilter: !!suppressColumnFilter,\n        suppressColumnSelectAll: !!suppressColumnSelectAll,\n        suppressSyncLayoutWithGrid: !!columnLayout || !!suppressSyncLayoutWithGrid,\n        onStateUpdated: () => {\n        }\n      }),\n      \"columnMenu\"\n    );\n    if (columnLayout) {\n      columnSelectPanel.setColumnLayout(columnLayout);\n    }\n    return columnSelectPanel;\n  }\n  showColumnChooser({ column, chooserParams, eventSource }) {\n    this.hideActiveColumnChooser();\n    const columnSelectPanel = this.createColumnSelectPanel(this, column, true, chooserParams);\n    const translate = this.localeService.getLocaleTextFunc();\n    const columnIndex = this.visibleColsService.getAllCols().indexOf(column);\n    const headerPosition = column ? this.focusService.getFocusedHeader() : null;\n    this.activeColumnChooserDialog = this.createBean(\n      new AgDialog({\n        title: translate(\"chooseColumns\", \"Choose Columns\"),\n        component: columnSelectPanel,\n        width: 300,\n        height: 300,\n        resizable: true,\n        movable: true,\n        centered: true,\n        closable: true,\n        afterGuiAttached: () => {\n          this.focusService.findNextFocusableElement(columnSelectPanel.getGui())?.focus({\n            preventScroll: true\n          });\n          this.dispatchVisibleChangedEvent(true, column);\n        },\n        closedCallback: (event) => {\n          const eComp = this.activeColumnChooser.getGui();\n          this.destroyBean(this.activeColumnChooser);\n          this.activeColumnChooser = void 0;\n          this.activeColumnChooserDialog = void 0;\n          this.dispatchVisibleChangedEvent(false, column);\n          if (column) {\n            this.menuUtils.restoreFocusOnClose(\n              { column, headerPosition, columnIndex, eventSource },\n              eComp,\n              event,\n              true\n            );\n          }\n        },\n        postProcessPopupParams: {\n          type: \"columnChooser\",\n          column,\n          eventSource\n        }\n      })\n    );\n    this.activeColumnChooser = columnSelectPanel;\n  }\n  hideActiveColumnChooser() {\n    if (this.activeColumnChooserDialog) {\n      this.destroyBean(this.activeColumnChooserDialog);\n    }\n  }\n  dispatchVisibleChangedEvent(visible, column) {\n    this.eventService.dispatchEvent({\n      type: \"columnMenuVisibleChanged\",\n      visible,\n      switchingTab: false,\n      key: \"columnChooser\",\n      column: column ?? null\n    });\n  }\n};\n\n// enterprise-modules/menu/src/menu/columnMenuFactory.ts\nimport { BeanStub as BeanStub3, _isClientSideRowModel, _removeRepeatsFromArray } from \"@ag-grid-community/core\";\nimport { AgMenuList } from \"@ag-grid-enterprise/core\";\nvar MENU_ITEM_SEPARATOR = \"separator\";\nvar ColumnMenuFactory = class extends BeanStub3 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"columnMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.menuItemMapper = beans.menuItemMapper;\n    this.columnModel = beans.columnModel;\n    this.funcColsService = beans.funcColsService;\n    this.menuService = beans.menuService;\n  }\n  createMenu(parent, menuItems, column, sourceElement) {\n    const menuList = parent.createManagedBean(\n      new AgMenuList(0, {\n        column: column ?? null,\n        node: null,\n        value: null\n      })\n    );\n    const menuItemsMapped = this.menuItemMapper.mapWithStockItems(\n      menuItems,\n      column ?? null,\n      sourceElement,\n      \"columnMenu\"\n    );\n    menuList.addMenuItems(menuItemsMapped);\n    return menuList;\n  }\n  // columnGroup to be added\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getMenuItems(column, columnGroup) {\n    const defaultItems = this.getDefaultMenuOptions(column);\n    let result;\n    const columnMainMenuItems = column?.getColDef().mainMenuItems;\n    if (Array.isArray(columnMainMenuItems)) {\n      result = columnMainMenuItems;\n    } else if (typeof columnMainMenuItems === \"function\") {\n      result = columnMainMenuItems(\n        this.gos.addGridCommonParams({\n          column,\n          defaultItems\n        })\n      );\n    } else {\n      const userFunc = this.gos.getCallback(\"getMainMenuItems\");\n      if (userFunc && column) {\n        result = userFunc({\n          column,\n          defaultItems\n        });\n      } else {\n        result = defaultItems;\n      }\n    }\n    _removeRepeatsFromArray(result, MENU_ITEM_SEPARATOR);\n    return result;\n  }\n  getDefaultMenuOptions(column) {\n    const result = [];\n    const isLegacyMenuEnabled = this.menuService.isLegacyMenuEnabled();\n    if (!column) {\n      if (!isLegacyMenuEnabled) {\n        result.push(\"columnChooser\");\n      }\n      result.push(\"resetColumns\");\n      return result;\n    }\n    const allowPinning = !column.getColDef().lockPinned;\n    const rowGroupCount = this.funcColsService.getRowGroupColumns().length;\n    const doingGrouping = rowGroupCount > 0;\n    const allowValue = column.isAllowValue();\n    const allowRowGroup = column.isAllowRowGroup();\n    const isPrimary = column.isPrimary();\n    const pivotModeOn = this.columnModel.isPivotMode();\n    const isInMemoryRowModel = _isClientSideRowModel(this.gos);\n    const usingTreeData = this.gos.get(\"treeData\");\n    const allowValueAgg = (\n      // if primary, then only allow aggValue if grouping and it's a value columns\n      isPrimary && doingGrouping && allowValue || // secondary columns can always have aggValue, as it means it's a pivot value column\n      !isPrimary\n    );\n    if (!isLegacyMenuEnabled && column.isSortable()) {\n      const sort = column.getSort();\n      if (sort !== \"asc\") {\n        result.push(\"sortAscending\");\n      }\n      if (sort !== \"desc\") {\n        result.push(\"sortDescending\");\n      }\n      if (sort) {\n        result.push(\"sortUnSort\");\n      }\n      result.push(MENU_ITEM_SEPARATOR);\n    }\n    if (this.menuService.isFilterMenuItemEnabled(column)) {\n      result.push(\"columnFilter\");\n      result.push(MENU_ITEM_SEPARATOR);\n    }\n    if (allowPinning) {\n      result.push(\"pinSubMenu\");\n    }\n    if (allowValueAgg) {\n      result.push(\"valueAggSubMenu\");\n    }\n    if (allowPinning || allowValueAgg) {\n      result.push(MENU_ITEM_SEPARATOR);\n    }\n    result.push(\"autoSizeThis\");\n    result.push(\"autoSizeAll\");\n    result.push(MENU_ITEM_SEPARATOR);\n    const showRowGroup = column.getColDef().showRowGroup;\n    if (showRowGroup) {\n      result.push(\"rowUnGroup\");\n    } else if (allowRowGroup && column.isPrimary()) {\n      if (column.isRowGroupActive()) {\n        const groupLocked = this.columnModel.isColGroupLocked(column);\n        if (!groupLocked) {\n          result.push(\"rowUnGroup\");\n        }\n      } else {\n        result.push(\"rowGroup\");\n      }\n    }\n    result.push(MENU_ITEM_SEPARATOR);\n    if (!isLegacyMenuEnabled) {\n      result.push(\"columnChooser\");\n    }\n    result.push(\"resetColumns\");\n    const allowExpandAndContract = isInMemoryRowModel && (usingTreeData || rowGroupCount > (pivotModeOn ? 1 : 0));\n    if (allowExpandAndContract) {\n      result.push(\"expandAll\");\n      result.push(\"contractAll\");\n    }\n    return result;\n  }\n};\n\n// enterprise-modules/menu/src/menu/contextMenu.ts\nimport {\n  BeanStub as BeanStub4,\n  Component,\n  ModuleNames as ModuleNames2,\n  _exists,\n  _isIOSUserAgent,\n  _isNothingFocused,\n  _missingOrEmpty\n} from \"@ag-grid-community/core\";\nimport { AgMenuList as AgMenuList2 } from \"@ag-grid-enterprise/core\";\nvar CSS_MENU = \"ag-menu\";\nvar CSS_CONTEXT_MENU_OPEN = \"ag-context-menu-open\";\nvar ContextMenuFactory = class extends BeanStub4 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"contextMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.ctrlsService = beans.ctrlsService;\n    this.columnModel = beans.columnModel;\n    this.menuUtils = beans.menuUtils;\n    this.rangeService = beans.rangeService;\n    this.focusService = beans.focusService;\n  }\n  hideActiveMenu() {\n    this.destroyBean(this.activeMenu);\n  }\n  getMenuItems(node, column, value) {\n    const defaultMenuOptions = [];\n    if (_exists(node) && this.gos.isModuleRegistered(ModuleNames2.ClipboardModule)) {\n      if (column) {\n        if (!this.gos.get(\"suppressCutToClipboard\")) {\n          defaultMenuOptions.push(\"cut\");\n        }\n        defaultMenuOptions.push(\"copy\", \"copyWithHeaders\", \"copyWithGroupHeaders\", \"paste\", \"separator\");\n      }\n    }\n    if (this.gos.get(\"enableCharts\") && this.gos.isModuleRegistered(ModuleNames2.GridChartsModule)) {\n      if (this.columnModel.isPivotMode()) {\n        defaultMenuOptions.push(\"pivotChart\");\n      }\n      if (this.rangeService && !this.rangeService.isEmpty()) {\n        defaultMenuOptions.push(\"chartRange\");\n      }\n    }\n    if (_exists(node)) {\n      const csvModuleMissing = !this.gos.isModuleRegistered(ModuleNames2.CsvExportModule);\n      const excelModuleMissing = !this.gos.isModuleRegistered(ModuleNames2.ExcelExportModule);\n      const suppressExcel = this.gos.get(\"suppressExcelExport\") || excelModuleMissing;\n      const suppressCsv = this.gos.get(\"suppressCsvExport\") || csvModuleMissing;\n      const onIPad = _isIOSUserAgent();\n      const anyExport = !onIPad && (!suppressExcel || !suppressCsv);\n      if (anyExport) {\n        defaultMenuOptions.push(\"export\");\n      }\n    }\n    const defaultItems = defaultMenuOptions.length ? defaultMenuOptions : void 0;\n    const columnContextMenuItems = column?.getColDef().contextMenuItems;\n    if (Array.isArray(columnContextMenuItems)) {\n      return columnContextMenuItems;\n    }\n    if (typeof columnContextMenuItems === \"function\") {\n      return columnContextMenuItems(\n        this.gos.addGridCommonParams({\n          column,\n          node,\n          value,\n          defaultItems\n        })\n      );\n    }\n    const userFunc = this.gos.getCallback(\"getContextMenuItems\");\n    if (userFunc) {\n      return userFunc({ column, node, value, defaultItems });\n    }\n    return defaultMenuOptions;\n  }\n  onContextMenu(mouseEvent, touchEvent, rowNode, column, value, anchorToElement) {\n    this.menuUtils.onContextMenu(\n      mouseEvent,\n      touchEvent,\n      (eventOrTouch) => this.showMenu(rowNode, column, value, eventOrTouch, anchorToElement)\n    );\n  }\n  showMenu(node, column, value, mouseEvent, anchorToElement) {\n    const menuItems = this.getMenuItems(node, column, value);\n    const eGridBodyGui = this.ctrlsService.getGridBodyCtrl().getGui();\n    if (menuItems === void 0 || _missingOrEmpty(menuItems)) {\n      return false;\n    }\n    const menu = new ContextMenu(menuItems, column, node, value);\n    this.createBean(menu);\n    const eMenuGui = menu.getGui();\n    if (!column) {\n      this.focusService.clearFocusedCell();\n    }\n    const positionParams = {\n      column,\n      rowNode: node,\n      type: \"contextMenu\",\n      mouseEvent,\n      ePopup: eMenuGui,\n      // move one pixel away so that accidentally double clicking\n      // won't show the browser's contextmenu\n      nudgeY: 1\n    };\n    const translate = this.localeService.getLocaleTextFunc();\n    const addPopupRes = this.popupService.addPopup({\n      modal: true,\n      eChild: eMenuGui,\n      closeOnEsc: true,\n      closedCallback: (e) => {\n        eGridBodyGui.classList.remove(CSS_CONTEXT_MENU_OPEN);\n        this.destroyBean(menu);\n        this.dispatchVisibleChangedEvent(false, e === void 0 ? \"api\" : \"ui\");\n      },\n      click: mouseEvent,\n      positionCallback: () => {\n        const isRtl = this.gos.get(\"enableRtl\");\n        this.popupService.positionPopupUnderMouseEvent({\n          ...positionParams,\n          nudgeX: isRtl ? (eMenuGui.offsetWidth + 1) * -1 : 1\n        });\n      },\n      // so when browser is scrolled down, or grid is scrolled, context menu stays with cell\n      anchorToElement,\n      ariaLabel: translate(\"ariaLabelContextMenu\", \"Context Menu\")\n    });\n    if (addPopupRes) {\n      eGridBodyGui.classList.add(CSS_CONTEXT_MENU_OPEN);\n      menu.afterGuiAttached({ container: \"contextMenu\", hidePopup: addPopupRes.hideFunc });\n    }\n    if (this.activeMenu) {\n      this.hideActiveMenu();\n    }\n    this.activeMenu = menu;\n    menu.addEventListener(\"destroyed\", () => {\n      if (this.activeMenu === menu) {\n        this.activeMenu = null;\n      }\n    });\n    if (addPopupRes) {\n      menu.addEventListener(\n        \"closeMenu\",\n        (e) => addPopupRes.hideFunc({\n          mouseEvent: e.mouseEvent ?? void 0,\n          keyboardEvent: e.keyboardEvent ?? void 0,\n          forceHide: true\n        })\n      );\n    }\n    const isApi = mouseEvent && mouseEvent instanceof MouseEvent && mouseEvent.type === \"mousedown\";\n    this.dispatchVisibleChangedEvent(true, isApi ? \"api\" : \"ui\");\n    return true;\n  }\n  dispatchVisibleChangedEvent(visible, source = \"ui\") {\n    this.eventService.dispatchEvent({\n      type: \"contextMenuVisibleChanged\",\n      visible,\n      source\n    });\n  }\n};\nvar ContextMenu = class extends Component {\n  constructor(menuItems, column, node, value) {\n    super(\n      /* html */\n      `<div class=\"${CSS_MENU}\" role=\"presentation\"></div>`\n    );\n    this.menuItems = menuItems;\n    this.column = column;\n    this.node = node;\n    this.value = value;\n    this.menuList = null;\n    this.focusedCell = null;\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.menuItemMapper = beans.menuItemMapper;\n    this.cellPositionUtils = beans.cellPositionUtils;\n  }\n  postConstruct() {\n    const menuList = this.createManagedBean(\n      new AgMenuList2(0, {\n        column: this.column,\n        node: this.node,\n        value: this.value\n      })\n    );\n    const menuItemsMapped = this.menuItemMapper.mapWithStockItems(\n      this.menuItems,\n      null,\n      () => this.getGui(),\n      \"contextMenu\"\n    );\n    menuList.addMenuItems(menuItemsMapped);\n    this.appendChild(menuList);\n    this.menuList = menuList;\n    menuList.addEventListener(\"closeMenu\", (e) => this.dispatchLocalEvent(e));\n  }\n  afterGuiAttached(params) {\n    if (params.hidePopup) {\n      this.addDestroyFunc(params.hidePopup);\n    }\n    this.focusedCell = this.focusService.getFocusedCell();\n    if (this.menuList) {\n      this.focusService.focusInto(this.menuList.getGui());\n    }\n  }\n  restoreFocusedCell() {\n    const currentFocusedCell = this.focusService.getFocusedCell();\n    if (currentFocusedCell && this.focusedCell && this.cellPositionUtils.equals(currentFocusedCell, this.focusedCell)) {\n      const { rowIndex, rowPinned, column } = this.focusedCell;\n      if (_isNothingFocused(this.gos)) {\n        this.focusService.setFocusedCell({\n          rowIndex,\n          column,\n          rowPinned,\n          forceBrowserFocus: true,\n          preventScrollOnBrowserFocus: !this.focusService.isKeyboardMode()\n        });\n      }\n    }\n  }\n  destroy() {\n    this.restoreFocusedCell();\n    super.destroy();\n  }\n};\n\n// enterprise-modules/menu/src/menu/enterpriseMenu.ts\nimport {\n  AgPromise,\n  BeanStub as BeanStub5,\n  Component as Component2,\n  FilterWrapperComp,\n  ModuleNames as ModuleNames3,\n  RefPlaceholder,\n  _createIconNoSpan as _createIconNoSpan2,\n  _warnOnce as _warnOnce2,\n  isColumn\n} from \"@ag-grid-community/core\";\nimport { TabbedLayout } from \"@ag-grid-enterprise/core\";\nvar TAB_FILTER = \"filterMenuTab\";\nvar TAB_GENERAL = \"generalMenuTab\";\nvar TAB_COLUMNS = \"columnsMenuTab\";\nvar TABS_DEFAULT = [TAB_GENERAL, TAB_FILTER, TAB_COLUMNS];\nvar EnterpriseMenuFactory = class extends BeanStub5 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"enterpriseMenuFactory\";\n  }\n  wireBeans(beans) {\n    this.popupService = beans.popupService;\n    this.focusService = beans.focusService;\n    this.ctrlsService = beans.ctrlsService;\n    this.visibleColsService = beans.visibleColsService;\n    this.filterManager = beans.filterManager;\n    this.menuUtils = beans.menuUtils;\n    this.menuService = beans.menuService;\n    this.columnMenuFactory = beans.columnMenuFactory;\n  }\n  hideActiveMenu() {\n    this.destroyBean(this.activeMenu);\n  }\n  showMenuAfterMouseEvent(columnOrGroup, mouseEvent, containerType, filtersOnly) {\n    const { column, columnGroup } = this.splitColumnOrGroup(columnOrGroup);\n    const defaultTab = filtersOnly ? \"filterMenuTab\" : void 0;\n    this.showMenu(\n      column,\n      columnGroup,\n      (menu) => {\n        const ePopup = menu.getGui();\n        this.popupService.positionPopupUnderMouseEvent({\n          type: containerType,\n          column,\n          mouseEvent,\n          ePopup\n        });\n        if (defaultTab) {\n          menu.showTab?.(defaultTab);\n        }\n        this.dispatchVisibleChangedEvent(true, false, column, columnGroup, defaultTab);\n      },\n      containerType,\n      defaultTab,\n      void 0,\n      mouseEvent.target\n    );\n  }\n  splitColumnOrGroup(columnOrGroup) {\n    const colIsColumn = columnOrGroup && isColumn(columnOrGroup);\n    const column = colIsColumn ? columnOrGroup : void 0;\n    const columnGroup = colIsColumn ? void 0 : columnOrGroup;\n    return { column, columnGroup };\n  }\n  showMenuAfterButtonClick(columnOrGroup, eventSource, containerType, filtersOnly) {\n    let multiplier = -1;\n    let alignSide = \"left\";\n    if (this.gos.get(\"enableRtl\")) {\n      multiplier = 1;\n      alignSide = \"right\";\n    }\n    const defaultTab = filtersOnly ? \"filterMenuTab\" : void 0;\n    const restrictToTabs = defaultTab ? [defaultTab] : void 0;\n    const isLegacyMenuEnabled = this.menuService.isLegacyMenuEnabled();\n    const nudgeX = (isLegacyMenuEnabled ? 9 : 4) * multiplier;\n    const nudgeY = isLegacyMenuEnabled ? -23 : 4;\n    const { column, columnGroup } = this.splitColumnOrGroup(columnOrGroup);\n    this.showMenu(\n      column,\n      columnGroup,\n      (menu) => {\n        const ePopup = menu.getGui();\n        this.popupService.positionPopupByComponent({\n          type: containerType,\n          column,\n          eventSource,\n          ePopup,\n          alignSide,\n          nudgeX,\n          nudgeY,\n          position: \"under\",\n          keepWithinBounds: true\n        });\n        if (defaultTab) {\n          menu.showTab?.(defaultTab);\n        }\n        this.dispatchVisibleChangedEvent(true, false, column, columnGroup, defaultTab);\n      },\n      containerType,\n      defaultTab,\n      restrictToTabs,\n      eventSource\n    );\n  }\n  showMenu(column, columnGroup, positionCallback, containerType, defaultTab, restrictToTabs, eventSource) {\n    const menuParams = this.getMenuParams(column, columnGroup, restrictToTabs, eventSource);\n    if (!menuParams) {\n      return;\n    }\n    const { menu, eMenuGui, anchorToElement, restoreFocusParams } = menuParams;\n    const closedFuncs = [];\n    closedFuncs.push((e) => {\n      const eComp = menu.getGui();\n      this.destroyBean(menu);\n      if (column) {\n        column.setMenuVisible(false, \"contextMenu\");\n        this.menuUtils.restoreFocusOnClose(restoreFocusParams, eComp, e);\n      }\n    });\n    const translate = this.localeService.getLocaleTextFunc();\n    this.popupService.addPopup({\n      modal: true,\n      eChild: eMenuGui,\n      closeOnEsc: true,\n      closedCallback: (e) => {\n        closedFuncs.forEach((f) => f(e));\n        this.dispatchVisibleChangedEvent(false, false, column, columnGroup, defaultTab);\n      },\n      afterGuiAttached: (params) => menu.afterGuiAttached(Object.assign({}, { container: containerType }, params)),\n      // if defaultTab is not present, positionCallback will be called\n      // after `showTabBasedOnPreviousSelection` is called.\n      positionCallback: defaultTab ? () => positionCallback(menu) : void 0,\n      ariaLabel: translate(\"ariaLabelColumnMenu\", \"Column Menu\")\n    });\n    if (!defaultTab) {\n      menu.showTabBasedOnPreviousSelection?.();\n      positionCallback(menu);\n    }\n    if (this.menuService.isColumnMenuAnchoringEnabled()) {\n      const stopAnchoringPromise = this.popupService.setPopupPositionRelatedToElement(eMenuGui, anchorToElement);\n      if (stopAnchoringPromise && column) {\n        this.addStopAnchoring(stopAnchoringPromise, column, closedFuncs);\n      }\n    }\n    menu.addEventListener(\"tabSelected\", (event) => {\n      this.dispatchVisibleChangedEvent(false, true, column);\n      this.lastSelectedTab = event.key;\n      this.dispatchVisibleChangedEvent(true, true, column);\n    });\n    column?.setMenuVisible(true, \"contextMenu\");\n    this.activeMenu = menu;\n    menu.addEventListener(\"destroyed\", () => {\n      if (this.activeMenu === menu) {\n        this.activeMenu = null;\n      }\n    });\n  }\n  addStopAnchoring(stopAnchoringPromise, column, closedFuncsArr) {\n    stopAnchoringPromise.then((stopAnchoringFunc) => {\n      column.addEventListener(\"leftChanged\", stopAnchoringFunc);\n      column.addEventListener(\"visibleChanged\", stopAnchoringFunc);\n      closedFuncsArr.push(() => {\n        column.removeEventListener(\"leftChanged\", stopAnchoringFunc);\n        column.removeEventListener(\"visibleChanged\", stopAnchoringFunc);\n      });\n    });\n  }\n  getMenuParams(column, columnGroup, restrictToTabs, eventSource) {\n    const restoreFocusParams = {\n      column,\n      headerPosition: this.focusService.getFocusedHeader(),\n      columnIndex: this.visibleColsService.getAllCols().indexOf(column),\n      eventSource\n    };\n    const menu = this.createMenu(column, columnGroup, restoreFocusParams, restrictToTabs, eventSource);\n    return menu ? {\n      menu,\n      eMenuGui: menu.getGui(),\n      anchorToElement: eventSource || this.ctrlsService.getGridBodyCtrl().getGui(),\n      restoreFocusParams\n    } : void 0;\n  }\n  createMenu(column, columnGroup, restoreFocusParams, restrictToTabs, eventSource) {\n    if (this.menuService.isLegacyMenuEnabled()) {\n      return this.createBean(\n        new TabbedColumnMenu(column, restoreFocusParams, this.lastSelectedTab, restrictToTabs, eventSource)\n      );\n    } else {\n      const menuItems = this.columnMenuFactory.getMenuItems(column, columnGroup);\n      return menuItems.length ? this.createBean(new ColumnContextMenu(menuItems, column, restoreFocusParams, eventSource)) : void 0;\n    }\n  }\n  dispatchVisibleChangedEvent(visible, switchingTab, column, columnGroup, defaultTab) {\n    this.eventService.dispatchEvent({\n      type: \"columnMenuVisibleChanged\",\n      visible,\n      switchingTab,\n      key: this.lastSelectedTab ?? defaultTab ?? (this.menuService.isLegacyMenuEnabled() ? TAB_GENERAL : \"columnMenu\"),\n      column: column ?? null,\n      columnGroup: columnGroup ?? null\n    });\n  }\n  isMenuEnabled(column) {\n    if (!this.menuService.isLegacyMenuEnabled()) {\n      return true;\n    }\n    const isFilterDisabled = !this.filterManager?.isFilterAllowed(column);\n    const tabs = column.getColDef().menuTabs ?? TABS_DEFAULT;\n    const numActiveTabs = isFilterDisabled && tabs.includes(TAB_FILTER) ? tabs.length - 1 : tabs.length;\n    return numActiveTabs > 0;\n  }\n  showMenuAfterContextMenuEvent(column, mouseEvent, touchEvent) {\n    this.menuUtils.onContextMenu(mouseEvent, touchEvent, (eventOrTouch) => {\n      this.showMenuAfterMouseEvent(column, eventOrTouch, \"columnMenu\");\n      return true;\n    });\n  }\n};\nvar TabbedColumnMenu = class extends BeanStub5 {\n  constructor(column, restoreFocusParams, initialSelection, restrictTo, sourceElement) {\n    super();\n    this.column = column;\n    this.restoreFocusParams = restoreFocusParams;\n    this.initialSelection = initialSelection;\n    this.restrictTo = restrictTo;\n    this.sourceElement = sourceElement;\n    this.tabFactories = {};\n    this.includeChecks = {};\n    this.tabFactories[TAB_GENERAL] = this.createMainPanel.bind(this);\n    this.tabFactories[TAB_FILTER] = this.createFilterPanel.bind(this);\n    this.tabFactories[TAB_COLUMNS] = this.createColumnsPanel.bind(this);\n    this.includeChecks[TAB_GENERAL] = () => true;\n    this.includeChecks[TAB_FILTER] = () => column ? !!this.filterManager?.isFilterAllowed(column) : false;\n    this.includeChecks[TAB_COLUMNS] = () => true;\n  }\n  wireBeans(beans) {\n    this.filterManager = beans.filterManager;\n    this.columnChooserFactory = beans.columnChooserFactory;\n    this.columnMenuFactory = beans.columnMenuFactory;\n    this.menuUtils = beans.menuUtils;\n  }\n  postConstruct() {\n    const tabs = this.getTabsToCreate().map((name) => this.createTab(name));\n    this.tabbedLayout = new TabbedLayout({\n      items: tabs,\n      cssClass: \"ag-menu\",\n      onActiveItemClicked: this.onHidePopup.bind(this),\n      onItemClicked: this.onTabItemClicked.bind(this)\n    });\n    this.createBean(this.tabbedLayout);\n    if (this.mainMenuList) {\n      this.mainMenuList.setParentComponent(this.tabbedLayout);\n    }\n    this.addDestroyFunc(() => this.destroyBean(this.tabbedLayout));\n  }\n  getTabsToCreate() {\n    if (this.restrictTo) {\n      return this.restrictTo;\n    }\n    return (this.column?.getColDef().menuTabs ?? TABS_DEFAULT).filter((tabName) => this.isValidMenuTabItem(tabName)).filter((tabName) => this.isNotSuppressed(tabName)).filter((tabName) => this.isModuleLoaded(tabName));\n  }\n  isModuleLoaded(menuTabName) {\n    if (menuTabName === TAB_COLUMNS) {\n      return this.gos.isModuleRegistered(ModuleNames3.ColumnsToolPanelModule);\n    }\n    return true;\n  }\n  isValidMenuTabItem(menuTabName) {\n    let isValid = true;\n    let itemsToConsider = TABS_DEFAULT;\n    if (this.restrictTo != null) {\n      isValid = this.restrictTo.indexOf(menuTabName) > -1;\n      itemsToConsider = this.restrictTo;\n    }\n    isValid = isValid && TABS_DEFAULT.indexOf(menuTabName) > -1;\n    if (!isValid) {\n      _warnOnce2(\n        `Trying to render an invalid menu item '${menuTabName}'. Check that your 'menuTabs' contains one of [${itemsToConsider}]`\n      );\n    }\n    return isValid;\n  }\n  isNotSuppressed(menuTabName) {\n    return this.includeChecks[menuTabName]();\n  }\n  createTab(name) {\n    return this.tabFactories[name]();\n  }\n  showTabBasedOnPreviousSelection() {\n    this.showTab(this.initialSelection);\n  }\n  showTab(toShow) {\n    if (this.tabItemColumns && toShow === TAB_COLUMNS) {\n      this.tabbedLayout.showItem(this.tabItemColumns);\n    } else if (this.tabItemFilter && toShow === TAB_FILTER) {\n      this.tabbedLayout.showItem(this.tabItemFilter);\n    } else if (this.tabItemGeneral && toShow === TAB_GENERAL) {\n      this.tabbedLayout.showItem(this.tabItemGeneral);\n    } else {\n      this.tabbedLayout.showFirstItem();\n    }\n  }\n  onTabItemClicked(event) {\n    let key = null;\n    switch (event.item) {\n      case this.tabItemColumns:\n        key = TAB_COLUMNS;\n        break;\n      case this.tabItemFilter:\n        key = TAB_FILTER;\n        break;\n      case this.tabItemGeneral:\n        key = TAB_GENERAL;\n        break;\n    }\n    if (key) {\n      this.activateTab(key);\n    }\n  }\n  activateTab(tab) {\n    const ev = {\n      type: \"tabSelected\",\n      key: tab\n    };\n    this.dispatchLocalEvent(ev);\n  }\n  createMainPanel() {\n    this.mainMenuList = this.columnMenuFactory.createMenu(\n      this,\n      this.columnMenuFactory.getMenuItems(this.column),\n      this.column,\n      () => this.sourceElement ?? this.getGui()\n    );\n    this.mainMenuList.addEventListener(\"closeMenu\", this.onHidePopup.bind(this));\n    this.tabItemGeneral = {\n      title: _createIconNoSpan2(\"menu\", this.gos, this.column),\n      titleLabel: TAB_GENERAL.replace(\"MenuTab\", \"\"),\n      bodyPromise: AgPromise.resolve(this.mainMenuList.getGui()),\n      name: TAB_GENERAL\n    };\n    return this.tabItemGeneral;\n  }\n  onHidePopup(event) {\n    this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc, this.restoreFocusParams, event);\n  }\n  createFilterPanel() {\n    const comp = this.column ? this.createBean(new FilterWrapperComp(this.column, \"COLUMN_MENU\")) : null;\n    this.filterComp = comp;\n    if (!comp?.hasFilter()) {\n      throw new Error(\"AG Grid - Unable to instantiate filter\");\n    }\n    const afterAttachedCallback = (params) => comp.afterGuiAttached(params);\n    const afterDetachedCallback = () => comp.afterGuiDetached();\n    this.tabItemFilter = {\n      title: _createIconNoSpan2(\"filter\", this.gos, this.column),\n      titleLabel: TAB_FILTER.replace(\"MenuTab\", \"\"),\n      bodyPromise: AgPromise.resolve(comp?.getGui()),\n      afterAttachedCallback,\n      afterDetachedCallback,\n      name: TAB_FILTER\n    };\n    return this.tabItemFilter;\n  }\n  createColumnsPanel() {\n    const eWrapperDiv = document.createElement(\"div\");\n    eWrapperDiv.classList.add(\"ag-menu-column-select-wrapper\");\n    const columnSelectPanel = this.columnChooserFactory.createColumnSelectPanel(this, this.column);\n    const columnSelectPanelGui = columnSelectPanel.getGui();\n    columnSelectPanelGui.classList.add(\"ag-menu-column-select\");\n    eWrapperDiv.appendChild(columnSelectPanelGui);\n    this.tabItemColumns = {\n      title: _createIconNoSpan2(\"columns\", this.gos, this.column),\n      //createColumnsIcon(),\n      titleLabel: TAB_COLUMNS.replace(\"MenuTab\", \"\"),\n      bodyPromise: AgPromise.resolve(eWrapperDiv),\n      name: TAB_COLUMNS\n    };\n    return this.tabItemColumns;\n  }\n  afterGuiAttached(params) {\n    const { container, hidePopup } = params;\n    this.tabbedLayout.setAfterAttachedParams({ container, hidePopup });\n    if (hidePopup) {\n      this.hidePopupFunc = hidePopup;\n      this.addDestroyFunc(hidePopup);\n    }\n  }\n  getGui() {\n    return this.tabbedLayout.getGui();\n  }\n  destroy() {\n    super.destroy();\n    this.destroyBean(this.filterComp);\n  }\n};\nvar ColumnContextMenu = class extends Component2 {\n  constructor(menuItems, column, restoreFocusParams, sourceElement) {\n    super(\n      /* html */\n      `\n            <div data-ref=\"eColumnMenu\" role=\"presentation\" class=\"ag-menu ag-column-menu\"></div>\n        `\n    );\n    this.menuItems = menuItems;\n    this.column = column;\n    this.restoreFocusParams = restoreFocusParams;\n    this.sourceElement = sourceElement;\n    this.eColumnMenu = RefPlaceholder;\n  }\n  wireBeans(beans) {\n    this.columnMenuFactory = beans.columnMenuFactory;\n    this.menuUtils = beans.menuUtils;\n    this.focusService = beans.focusService;\n  }\n  postConstruct() {\n    this.mainMenuList = this.columnMenuFactory.createMenu(\n      this,\n      this.menuItems,\n      this.column,\n      () => this.sourceElement ?? this.getGui()\n    );\n    this.mainMenuList.addEventListener(\"closeMenu\", this.onHidePopup.bind(this));\n    this.eColumnMenu.appendChild(this.mainMenuList.getGui());\n  }\n  onHidePopup(event) {\n    this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc, this.restoreFocusParams, event);\n  }\n  afterGuiAttached({ hidePopup }) {\n    if (hidePopup) {\n      this.hidePopupFunc = hidePopup;\n      this.addDestroyFunc(hidePopup);\n    }\n    this.focusService.focusInto(this.mainMenuList.getGui());\n  }\n};\n\n// enterprise-modules/menu/src/menu/menuApi.ts\nfunction showContextMenu(beans, params) {\n  const { rowNode, column, value, x, y } = params || {};\n  let { x: clientX, y: clientY } = beans.menuService.getContextMenuPosition(rowNode, column);\n  if (x != null) {\n    clientX = x;\n  }\n  if (y != null) {\n    clientY = y;\n  }\n  beans.menuService.showContextMenu({\n    mouseEvent: new MouseEvent(\"mousedown\", { clientX, clientY }),\n    rowNode,\n    column,\n    value\n  });\n}\nfunction showColumnChooser(beans, params) {\n  beans.menuService.showColumnChooser({ chooserParams: params });\n}\nfunction hideColumnChooser(beans) {\n  beans.menuService.hideColumnChooser();\n}\n\n// enterprise-modules/menu/src/menu/menuItemMapper.ts\nimport { BeanStub as BeanStub6, ModuleNames as ModuleNames4, _createIconNoSpan as _createIconNoSpan3, _escapeString, _exists as _exists2, _warnOnce as _warnOnce3 } from \"@ag-grid-community/core\";\nvar MenuItemMapper = class extends BeanStub6 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"menuItemMapper\";\n  }\n  wireBeans(beans) {\n    this.columnModel = beans.columnModel;\n    this.columnNameService = beans.columnNameService;\n    this.columnApplyStateService = beans.columnApplyStateService;\n    this.funcColsService = beans.funcColsService;\n    this.focusService = beans.focusService;\n    this.rowPositionUtils = beans.rowPositionUtils;\n    this.chartMenuItemMapper = beans.chartMenuItemMapper;\n    this.menuService = beans.menuService;\n    this.sortController = beans.sortController;\n    this.columnAutosizeService = beans.columnAutosizeService;\n    this.expansionService = beans.expansionService;\n    this.clipboardService = beans.clipboardService;\n    this.aggFuncService = beans.aggFuncService;\n    this.csvCreator = beans.csvCreator;\n    this.excelCreator = beans.excelCreator;\n  }\n  mapWithStockItems(originalList, column, sourceElement, source) {\n    if (!originalList) {\n      return [];\n    }\n    const resultList = [];\n    originalList.forEach((menuItemOrString) => {\n      let result;\n      if (typeof menuItemOrString === \"string\") {\n        result = this.getStockMenuItem(menuItemOrString, column, sourceElement, source);\n      } else {\n        result = { ...menuItemOrString };\n      }\n      if (!result) {\n        return;\n      }\n      const resultDef = result;\n      const { subMenu } = resultDef;\n      if (subMenu && subMenu instanceof Array) {\n        resultDef.subMenu = this.mapWithStockItems(subMenu, column, sourceElement, source);\n      }\n      if (result != null) {\n        resultList.push(result);\n      }\n    });\n    return resultList;\n  }\n  getStockMenuItem(key, column, sourceElement, source) {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    const skipHeaderOnAutoSize = this.gos.get(\"skipHeaderOnAutoSize\");\n    switch (key) {\n      case \"pinSubMenu\":\n        return {\n          name: localeTextFunc(\"pinColumn\", \"Pin Column\"),\n          icon: _createIconNoSpan3(\"menuPin\", this.gos, null),\n          subMenu: [\"clearPinned\", \"pinLeft\", \"pinRight\"]\n        };\n      case \"pinLeft\":\n        return {\n          name: localeTextFunc(\"pinLeft\", \"Pin Left\"),\n          action: () => this.columnModel.setColsPinned([column], \"left\", source),\n          checked: !!column && column.isPinnedLeft()\n        };\n      case \"pinRight\":\n        return {\n          name: localeTextFunc(\"pinRight\", \"Pin Right\"),\n          action: () => this.columnModel.setColsPinned([column], \"right\", source),\n          checked: !!column && column.isPinnedRight()\n        };\n      case \"clearPinned\":\n        return {\n          name: localeTextFunc(\"noPin\", \"No Pin\"),\n          action: () => this.columnModel.setColsPinned([column], null, source),\n          checked: !!column && !column.isPinned()\n        };\n      case \"valueAggSubMenu\":\n        if (this.gos.assertModuleRegistered(ModuleNames4.RowGroupingModule, \"Aggregation from Menu\")) {\n          if (!column?.isPrimary() && !column?.getColDef().pivotValueColumn) {\n            return null;\n          }\n          return {\n            name: localeTextFunc(\"valueAggregation\", \"Value Aggregation\"),\n            icon: _createIconNoSpan3(\"menuValue\", this.gos, null),\n            subMenu: this.createAggregationSubMenu(column, this.aggFuncService),\n            disabled: this.gos.get(\"functionsReadOnly\")\n          };\n        } else {\n          return null;\n        }\n      case \"autoSizeThis\":\n        return {\n          name: localeTextFunc(\"autosizeThisColumn\", \"Autosize This Column\"),\n          action: () => this.columnAutosizeService.autoSizeColumn(column, source, skipHeaderOnAutoSize)\n        };\n      case \"autoSizeAll\":\n        return {\n          name: localeTextFunc(\"autosizeAllColumns\", \"Autosize All Columns\"),\n          action: () => this.columnAutosizeService.autoSizeAllColumns(source, skipHeaderOnAutoSize)\n        };\n      case \"rowGroup\":\n        return {\n          name: localeTextFunc(\"groupBy\", \"Group by\") + \" \" + _escapeString(this.columnNameService.getDisplayNameForColumn(column, \"header\")),\n          disabled: this.gos.get(\"functionsReadOnly\") || column?.isRowGroupActive() || !column?.getColDef().enableRowGroup,\n          action: () => this.funcColsService.addRowGroupColumns([column], source),\n          icon: _createIconNoSpan3(\"menuAddRowGroup\", this.gos, null)\n        };\n      case \"rowUnGroup\": {\n        const icon = _createIconNoSpan3(\"menuRemoveRowGroup\", this.gos, null);\n        const showRowGroup = column?.getColDef().showRowGroup;\n        const lockedGroups = this.gos.get(\"groupLockGroupColumns\");\n        if (showRowGroup === true) {\n          return {\n            name: localeTextFunc(\"ungroupAll\", \"Un-Group All\"),\n            disabled: this.gos.get(\"functionsReadOnly\") || lockedGroups === -1 || lockedGroups >= this.funcColsService.getRowGroupColumns().length,\n            action: () => this.funcColsService.setRowGroupColumns(\n              this.funcColsService.getRowGroupColumns().slice(0, lockedGroups),\n              source\n            ),\n            icon\n          };\n        }\n        if (typeof showRowGroup === \"string\") {\n          const underlyingColumn = this.columnModel.getColDefCol(showRowGroup);\n          const ungroupByName = underlyingColumn != null ? _escapeString(this.columnNameService.getDisplayNameForColumn(underlyingColumn, \"header\")) : showRowGroup;\n          return {\n            name: localeTextFunc(\"ungroupBy\", \"Un-Group by\") + \" \" + ungroupByName,\n            disabled: this.gos.get(\"functionsReadOnly\") || underlyingColumn != null && this.columnModel.isColGroupLocked(underlyingColumn),\n            action: () => this.funcColsService.removeRowGroupColumns([showRowGroup], source),\n            icon\n          };\n        }\n        return {\n          name: localeTextFunc(\"ungroupBy\", \"Un-Group by\") + \" \" + _escapeString(this.columnNameService.getDisplayNameForColumn(column, \"header\")),\n          disabled: this.gos.get(\"functionsReadOnly\") || !column?.isRowGroupActive() || !column?.getColDef().enableRowGroup || this.columnModel.isColGroupLocked(column),\n          action: () => this.funcColsService.removeRowGroupColumns([column], source),\n          icon\n        };\n      }\n      case \"resetColumns\":\n        return {\n          name: localeTextFunc(\"resetColumns\", \"Reset Columns\"),\n          action: () => this.columnApplyStateService.resetColumnState(source)\n        };\n      case \"expandAll\":\n        return {\n          name: localeTextFunc(\"expandAll\", \"Expand All Row Groups\"),\n          action: () => this.expansionService.expandAll(true)\n        };\n      case \"contractAll\":\n        return {\n          name: localeTextFunc(\"collapseAll\", \"Collapse All Row Groups\"),\n          action: () => this.expansionService.expandAll(false)\n        };\n      case \"copy\":\n        if (this.gos.assertModuleRegistered(ModuleNames4.ClipboardModule, \"Copy from Menu\")) {\n          return {\n            name: localeTextFunc(\"copy\", \"Copy\"),\n            shortcut: localeTextFunc(\"ctrlC\", \"Ctrl+C\"),\n            icon: _createIconNoSpan3(\"clipboardCopy\", this.gos, null),\n            action: () => this.clipboardService.copyToClipboard()\n          };\n        } else {\n          return null;\n        }\n      case \"copyWithHeaders\":\n        if (this.gos.assertModuleRegistered(ModuleNames4.ClipboardModule, \"Copy with Headers from Menu\")) {\n          return {\n            name: localeTextFunc(\"copyWithHeaders\", \"Copy with Headers\"),\n            // shortcut: localeTextFunc('ctrlC','Ctrl+C'),\n            icon: _createIconNoSpan3(\"clipboardCopy\", this.gos, null),\n            action: () => this.clipboardService.copyToClipboard({ includeHeaders: true })\n          };\n        } else {\n          return null;\n        }\n      case \"copyWithGroupHeaders\":\n        if (this.gos.assertModuleRegistered(ModuleNames4.ClipboardModule, \"Copy with Group Headers from Menu\")) {\n          return {\n            name: localeTextFunc(\"copyWithGroupHeaders\", \"Copy with Group Headers\"),\n            // shortcut: localeTextFunc('ctrlC','Ctrl+C'),\n            icon: _createIconNoSpan3(\"clipboardCopy\", this.gos, null),\n            action: () => this.clipboardService.copyToClipboard({ includeHeaders: true, includeGroupHeaders: true })\n          };\n        } else {\n          return null;\n        }\n      case \"cut\":\n        if (this.gos.assertModuleRegistered(ModuleNames4.ClipboardModule, \"Cut from Menu\")) {\n          const focusedCell = this.focusService.getFocusedCell();\n          const rowNode = focusedCell ? this.rowPositionUtils.getRowNode(focusedCell) : null;\n          const isEditable = rowNode ? focusedCell?.column.isCellEditable(rowNode) : false;\n          return {\n            name: localeTextFunc(\"cut\", \"Cut\"),\n            shortcut: localeTextFunc(\"ctrlX\", \"Ctrl+X\"),\n            icon: _createIconNoSpan3(\"clipboardCut\", this.gos, null),\n            disabled: !isEditable || this.gos.get(\"suppressCutToClipboard\"),\n            action: () => this.clipboardService.cutToClipboard(void 0, \"contextMenu\")\n          };\n        } else {\n          return null;\n        }\n      case \"paste\":\n        if (this.gos.assertModuleRegistered(ModuleNames4.ClipboardModule, \"Paste from Clipboard\")) {\n          return {\n            name: localeTextFunc(\"paste\", \"Paste\"),\n            shortcut: localeTextFunc(\"ctrlV\", \"Ctrl+V\"),\n            disabled: true,\n            icon: _createIconNoSpan3(\"clipboardPaste\", this.gos, null),\n            action: () => this.clipboardService.pasteFromClipboard()\n          };\n        } else {\n          return null;\n        }\n      case \"export\": {\n        const exportSubMenuItems = [];\n        const csvModuleLoaded = this.gos.isModuleRegistered(ModuleNames4.CsvExportModule);\n        const excelModuleLoaded = this.gos.isModuleRegistered(ModuleNames4.ExcelExportModule);\n        if (!this.gos.get(\"suppressCsvExport\") && csvModuleLoaded) {\n          exportSubMenuItems.push(\"csvExport\");\n        }\n        if (!this.gos.get(\"suppressExcelExport\") && excelModuleLoaded) {\n          exportSubMenuItems.push(\"excelExport\");\n        }\n        return {\n          name: localeTextFunc(\"export\", \"Export\"),\n          subMenu: exportSubMenuItems,\n          icon: _createIconNoSpan3(\"save\", this.gos, null)\n        };\n      }\n      case \"csvExport\":\n        return {\n          name: localeTextFunc(\"csvExport\", \"CSV Export\"),\n          icon: _createIconNoSpan3(\"csvExport\", this.gos, null),\n          action: () => this.csvCreator?.exportDataAsCsv()\n        };\n      case \"excelExport\":\n        return {\n          name: localeTextFunc(\"excelExport\", \"Excel Export\"),\n          icon: _createIconNoSpan3(\"excelExport\", this.gos, null),\n          action: () => this.excelCreator?.exportDataAsExcel()\n        };\n      case \"separator\":\n        return \"separator\";\n      case \"pivotChart\":\n      case \"chartRange\":\n        return this.chartMenuItemMapper.getChartItems(key) ?? null;\n      case \"columnFilter\":\n        if (column) {\n          return {\n            name: localeTextFunc(\"columnFilter\", \"Column Filter\"),\n            icon: _createIconNoSpan3(\"filter\", this.gos, null),\n            action: () => this.menuService.showFilterMenu({\n              column,\n              buttonElement: sourceElement(),\n              containerType: \"columnFilter\",\n              positionBy: \"button\"\n            })\n          };\n        } else {\n          return null;\n        }\n      case \"columnChooser\":\n        if (this.gos.isModuleRegistered(ModuleNames4.ColumnsToolPanelModule)) {\n          return {\n            name: localeTextFunc(\"columnChooser\", \"Choose Columns\"),\n            icon: _createIconNoSpan3(\"columns\", this.gos, null),\n            action: () => this.menuService.showColumnChooser({ column, eventSource: sourceElement() })\n          };\n        } else {\n          return null;\n        }\n      case \"sortAscending\":\n        return {\n          name: localeTextFunc(\"sortAscending\", \"Sort Ascending\"),\n          icon: _createIconNoSpan3(\"sortAscending\", this.gos, null),\n          action: () => this.sortController.setSortForColumn(column, \"asc\", false, source)\n        };\n      case \"sortDescending\":\n        return {\n          name: localeTextFunc(\"sortDescending\", \"Sort Descending\"),\n          icon: _createIconNoSpan3(\"sortDescending\", this.gos, null),\n          action: () => this.sortController.setSortForColumn(column, \"desc\", false, source)\n        };\n      case \"sortUnSort\":\n        return {\n          name: localeTextFunc(\"sortUnSort\", \"Clear Sort\"),\n          icon: _createIconNoSpan3(\"sortUnSort\", this.gos, null),\n          action: () => this.sortController.setSortForColumn(column, null, false, source)\n        };\n      default: {\n        _warnOnce3(`unknown menu item type ${key}`);\n        return null;\n      }\n    }\n  }\n  createAggregationSubMenu(column, aggFuncService) {\n    const localeTextFunc = this.localeService.getLocaleTextFunc();\n    let columnToUse;\n    if (column.isPrimary()) {\n      columnToUse = column;\n    } else {\n      const pivotValueColumn = column.getColDef().pivotValueColumn;\n      columnToUse = _exists2(pivotValueColumn) ? pivotValueColumn : void 0;\n    }\n    const result = [];\n    if (columnToUse) {\n      const columnIsAlreadyAggValue = columnToUse.isValueActive();\n      const funcNames = aggFuncService.getFuncNames(columnToUse);\n      result.push({\n        name: localeTextFunc(\"noAggregation\", \"None\"),\n        action: () => {\n          this.funcColsService.removeValueColumns([columnToUse], \"contextMenu\");\n          this.funcColsService.setColumnAggFunc(columnToUse, void 0, \"contextMenu\");\n        },\n        checked: !columnIsAlreadyAggValue\n      });\n      funcNames.forEach((funcName) => {\n        result.push({\n          name: localeTextFunc(funcName, aggFuncService.getDefaultFuncLabel(funcName)),\n          action: () => {\n            this.funcColsService.setColumnAggFunc(columnToUse, funcName, \"contextMenu\");\n            this.funcColsService.addValueColumns([columnToUse], \"contextMenu\");\n          },\n          checked: columnIsAlreadyAggValue && columnToUse.getAggFunc() === funcName\n        });\n      });\n    }\n    return result;\n  }\n};\n\n// enterprise-modules/menu/src/menu/menuUtils.ts\nimport { BeanStub as BeanStub7, _getActiveDomElement, _isNothingFocused as _isNothingFocused2, _isVisible, _last } from \"@ag-grid-community/core\";\nvar MenuUtils = class extends BeanStub7 {\n  constructor() {\n    super(...arguments);\n    this.beanName = \"menuUtils\";\n  }\n  wireBeans(beans) {\n    this.focusService = beans.focusService;\n    this.headerNavigationService = beans.headerNavigationService;\n    this.visibleColsService = beans.visibleColsService;\n  }\n  restoreFocusOnClose(restoreFocusParams, eComp, e, restoreIfMouseEvent) {\n    const { eventSource } = restoreFocusParams;\n    const isKeyboardEvent = e instanceof KeyboardEvent;\n    if (!restoreIfMouseEvent && !isKeyboardEvent || !eventSource) {\n      return;\n    }\n    const activeEl = _getActiveDomElement(this.gos);\n    if (\n      // focus is outside of comp\n      !eComp.contains(activeEl) && // something else has focus\n      !_isNothingFocused2(this.gos)\n    ) {\n      return;\n    }\n    this.focusHeaderCell(restoreFocusParams);\n  }\n  closePopupAndRestoreFocusOnSelect(hidePopupFunc, restoreFocusParams, event) {\n    let keyboardEvent;\n    if (event && event.keyboardEvent) {\n      keyboardEvent = event.keyboardEvent;\n    }\n    hidePopupFunc(keyboardEvent && { keyboardEvent });\n    const focusedCell = this.focusService.getFocusedCell();\n    if (_isNothingFocused2(this.gos)) {\n      if (focusedCell) {\n        const { rowIndex, rowPinned, column } = focusedCell;\n        this.focusService.setFocusedCell({\n          rowIndex,\n          column,\n          rowPinned,\n          forceBrowserFocus: true,\n          preventScrollOnBrowserFocus: true\n        });\n      } else {\n        this.focusHeaderCell(restoreFocusParams);\n      }\n    }\n  }\n  onContextMenu(mouseEvent, touchEvent, showMenuCallback) {\n    if (!this.gos.get(\"allowContextMenuWithControlKey\")) {\n      if (mouseEvent && (mouseEvent.ctrlKey || mouseEvent.metaKey)) {\n        return;\n      }\n    }\n    if (mouseEvent) {\n      this.blockMiddleClickScrollsIfNeeded(mouseEvent);\n    }\n    if (this.gos.get(\"suppressContextMenu\")) {\n      return;\n    }\n    const eventOrTouch = mouseEvent ?? touchEvent.touches[0];\n    if (showMenuCallback(eventOrTouch)) {\n      const event = mouseEvent ?? touchEvent;\n      if (event && event.cancelable) {\n        event.preventDefault();\n      }\n    }\n  }\n  // make this async for react\n  async focusHeaderCell(restoreFocusParams) {\n    const { column, columnIndex, headerPosition, eventSource } = restoreFocusParams;\n    const isColumnStillVisible = await this.visibleColsService.getAllCols().some((col) => col === column);\n    if (column && !column.isAlive()) {\n      return;\n    }\n    if (isColumnStillVisible && eventSource && _isVisible(eventSource)) {\n      const focusableEl = this.focusService.findTabbableParent(eventSource);\n      if (focusableEl) {\n        if (column) {\n          this.headerNavigationService.scrollToColumn(column);\n        }\n        focusableEl.focus();\n      }\n    } else if (headerPosition && columnIndex !== -1) {\n      const allColumns = this.visibleColsService.getAllCols();\n      const columnToFocus = allColumns[columnIndex] || _last(allColumns);\n      if (columnToFocus) {\n        this.focusService.focusHeaderPosition({\n          headerPosition: {\n            headerRowIndex: headerPosition.headerRowIndex,\n            column: columnToFocus\n          }\n        });\n      }\n    }\n  }\n  blockMiddleClickScrollsIfNeeded(mouseEvent) {\n    if (this.gos.get(\"suppressMiddleClickScrolls\") && mouseEvent.which === 2) {\n      mouseEvent.preventDefault();\n    }\n  }\n};\n\n// enterprise-modules/menu/src/version.ts\nvar VERSION = \"32.3.9\";\n\n// enterprise-modules/menu/src/menuModule.ts\nvar MenuCoreModule = _defineModule({\n  version: VERSION,\n  moduleName: `${ModuleNames5.MenuModule}-core`,\n  beans: [\n    EnterpriseMenuFactory,\n    ContextMenuFactory,\n    MenuItemMapper,\n    ChartMenuItemMapper,\n    ColumnChooserFactory,\n    ColumnMenuFactory,\n    MenuUtils\n  ],\n  dependantModules: [EnterpriseCoreModule],\n  userComponents: [\n    {\n      name: \"agMenuItem\",\n      classImp: AgMenuItemRenderer\n    }\n  ]\n});\nvar MenuApiModule = _defineModule({\n  version: VERSION,\n  moduleName: `${ModuleNames5.MenuModule}-api`,\n  apiFunctions: {\n    showContextMenu,\n    showColumnChooser,\n    hideColumnChooser\n  },\n  dependantModules: [MenuCoreModule, _CommunityMenuApiModule]\n});\nvar MenuModule = _defineModule({\n  version: VERSION,\n  moduleName: ModuleNames5.MenuModule,\n  dependantModules: [MenuCoreModule, MenuApiModule]\n});\nexport {\n  MenuModule\n};\n"],
  "mappings": "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",
  "names": []
}
